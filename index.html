<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="whtis's blog" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="ç‚¹æ»´çš„è®°å½•ï¼Œæ˜¯å˜å¼ºçš„å¿…ç»ä¹‹è·¯">
<meta property="og:type" content="website">
<meta property="og:title" content="whtis's blog">
<meta property="og:url" content="http://www.whtis.com/index.html">
<meta property="og:site_name" content="whtis's blog">
<meta property="og:description" content="ç‚¹æ»´çš„è®°å½•ï¼Œæ˜¯å˜å¼ºçš„å¿…ç»ä¹‹è·¯">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="whtis's blog">
<meta name="twitter:description" content="ç‚¹æ»´çš„è®°å½•ï¼Œæ˜¯å˜å¼ºçš„å¿…ç»ä¹‹è·¯">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 14038351,
      author: 'love everyone~'
    }
  };
</script>




  <link rel="canonical" href="http://www.whtis.com/"/>

  <title> whtis's blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-69300841-1', 'auto');
  ga('send', 'pageview');
</script>


  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?9cb4437eed6d232c3aaf406d3f6fbfda";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">whtis's blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            å…³äº
          </a>
        </li>
      
        
        <li class="menu-item menu-item-guestbook">
          <a href="/guestbook" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-pencil"></i> <br />
            
            ç•™è¨€
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="st-search-show-outputs">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            æœç´¢
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'u2DWQSSegALVDFRKBsKh','2.0.0');
</script>



    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/19/æœ€è¿‘è¦åšçš„å‡ ä»¶äº‹/" itemprop="url">
                  æœ€è¿‘è¦åšçš„å‡ ä»¶äº‹
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-09-19T01:10:05+08:00" content="2016-09-19">
              2016-09-19
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/æœªå®Œæˆ/" itemprop="url" rel="index">
                    <span itemprop="name">æœªå®Œæˆ</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/09/19/æœ€è¿‘è¦åšçš„å‡ ä»¶äº‹/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/09/19/æœ€è¿‘è¦åšçš„å‡ ä»¶äº‹/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="å†™åœ¨å‰é¢">å†™åœ¨å‰é¢</h3><p>æœ‰æ—¶å€™æƒ³åˆ°è¦åšä¸€äº›è·ŸæŠ€æœ¯æœ‰å…³çš„ä¸œè¥¿ï¼Œä½†å¾ˆå¤šæ—¶å€™éƒ½ä¼šå¿˜è®°ã€‚ä¸€ç›´è§‰å¾—<strong>å…´è¶£æ˜¯æœ€å¥½çš„è€å¸ˆ</strong>è¿™å¥è¯å¾ˆå¯¹ï¼Œæ—¢ç„¶æœ‰å…´è¶£ï¼Œé‚£ä¹ˆæœ€å¥½åŠ¨æ‰‹åšä¸€åšã€‚å†™è¿™ç¯‡æ–‡ç« ï¼Œæé†’è‡ªå·±çš„åŒæ—¶ä¹Ÿæ˜¯å¸Œæœ›è®¤è¯†å¿—åŒé“åˆçš„æœ‹å‹ï¼Œè™½ç„¶åˆšå¼€å§‹åšçš„ä¸œè¥¿å¾ˆlowï¼Œä½†æ…¢æ…¢ç§¯ç´¯ï¼Œæ€»èƒ½è·å¾—æˆå°±æ„Ÿä¸æ˜¯ï¼Ÿ<br><br>è¿™ç¯‡æ–‡ç« ä¼šä¸æ–­æ›´æ–°ï¼Œæˆ‘ä¹Ÿæƒ³çœ‹çœ‹ï¼Œæˆ‘æœ€ååˆ°åº•èƒ½åšå‡ ä»¶è‡ªå·±å–œæ¬¢çš„äº‹æƒ…ï¼Œå˜»å˜»(â—â€™â—¡â€™â—)</p>
<h5 id="2016-09-19æ—¥å‡Œæ™¨">2016-09-19æ—¥å‡Œæ™¨</h5><ul>
<li>å­¦ä¹ å®‰å“å¼€å‘ï¼Œå†™ä¸€ä¸ªappï¼Œå…·ä½“éœ€æ±‚å¦‚ä¸‹ï¼š<ul>
<li>èƒ½å¤Ÿå®ç°å®æ—¶ç›‘æµ‹æ‰‹æœºçŸ­ä¿¡çš„åŠŸèƒ½ã€‚å½“æ‰‹æœºAæ”¶åˆ°æ–°çŸ­ä¿¡åï¼Œèƒ½ç«‹åˆ»è°ƒç”¨ç³»ç»ŸçŸ­ä¿¡appå°†çŸ­ä¿¡å†…å®¹å‘é€ç»™B</li>
<li>å¦‚æœæœ‰å¯èƒ½ï¼Œè½¬å‘è¿™ä¸€æ­¥è°ƒç”¨å¾®ä¿¡å®Œæˆï¼ˆçœé’±å•Šï¼‰</li>
<li>ç•Œé¢ï¼Œèƒ½å‡‘åˆç”¨å°±è¡Œï¼Œåˆ«å‡ºbugå°±è¡Œ</li>
</ul>
</li>
<li>ç»™è¿™åšå®¢æ·»åŠ å‡ ä¸ªåŠŸèƒ½ï¼š<ul>
<li>æ·»åŠ ç½‘æ˜“äº‘éŸ³ä¹æ’ä»¶</li>
<li>æ·»åŠ ä¸€ä¸ªæ–°åˆ†åŒºï¼Œç±»ä¼¼äºå¾®ä¿¡æœ‹å‹åœˆæˆ–è€…qqç©ºé—´å‘çŠ¶æ€çš„åŠŸèƒ½ã€‚ï¼ˆå› ä¸ºè‡ªå·±æœ‰æ—¶å€™æœ‰äº›è¯æ†‹ä¸ä½ï¼ŒæŒ‰ç…§åšæ–‡å‘å‡ºæ¥åˆå¤ªçŸ­äº†=ã€‚=ï¼‰</li>
<li>ä¹‹å‰å¥½åƒè§è¿‡åšå®¢åŒæ­¥instagramçš„åŠŸèƒ½ï¼Œå¦‚æœä¸Šé¢ä¸¤ä¸ªéƒ½å®Œæˆäº†ï¼Œå¯ä»¥åœ¨åšå®¢ä¸Šæ·»åŠ ä¸€ä¸ªä¸“é—¨çš„å›¾ç‰‡åˆ†åŒº</li>
</ul>
</li>
</ul>
<hr>
<div align="center" style="color:red;width=80px;height:90px;" onmouseout="this.style.border='1px solid blue'" onmouseover="this.style.border='none'"><br><p style="font-weight:bold;font-style:italic;">æœ¬æ–‡ç« é¦–å‘<a href="http://www.whtis.com">www.whtis.com</a>ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„</p><br></div>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/19/å°†ç™¾åº¦æœç´¢ç»“æœçš„é•¿urlé“¾æ¥è½¬æ¢ä¸ºçœŸå®çš„urlåœ°å€/" itemprop="url">
                  å°†ç™¾åº¦æœç´¢ç»“æœçš„é•¿urlé“¾æ¥è½¬æ¢ä¸ºçœŸå®çš„urlåœ°å€
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-09-19T00:37:15+08:00" content="2016-09-19">
              2016-09-19
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/09/19/å°†ç™¾åº¦æœç´¢ç»“æœçš„é•¿urlé“¾æ¥è½¬æ¢ä¸ºçœŸå®çš„urlåœ°å€/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/09/19/å°†ç™¾åº¦æœç´¢ç»“æœçš„é•¿urlé“¾æ¥è½¬æ¢ä¸ºçœŸå®çš„urlåœ°å€/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="å†™åœ¨å‰é¢">å†™åœ¨å‰é¢</h3><p>æœ€è¿‘å†™çˆ¬è™«çš„æ—¶å€™ï¼Œæƒ³è°ƒç”¨ç™¾åº¦çš„æœç´¢ç»“æœï¼Œäºæ˜¯æœ‰äº†è¿™ä¸ªé—®é¢˜ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæœ¬ç¯‡å†…å®¹è½¬åŒ–æ˜¯ä»…é’ˆå¯¹ç™¾åº¦è·³è½¬åˆ°éç™¾åº¦é“¾æ¥çš„ï¼Œç™¾åº¦å†…éƒ¨é“¾æ¥çš„è·³è½¬ï¼Œå¦‚ç™¾åº¦æœç´¢ä¸»å…¥å£è·³è½¬åˆ°ç™¾åº¦çŸ¥é“ã€ç™¾åº¦æ–‡åº“ï¼Œ</p>
<h3 id="é—®é¢˜æè¿°">é—®é¢˜æè¿°</h3><ul>
<li>ç™¾åº¦æœç´¢å…¥å£ï¼š<code>https://www.baidu.com/s?wd=</code>,åé¢åŠ ä¸Šéœ€è¦çš„æœç´¢å†…å®¹å³å¯ã€‚å¦‚éœ€è¦è¿›è¡Œæ›´åŠ ç²¾ç¡®çš„æœç´¢ï¼Œå¯ä»¥ä½¿ç”¨ç™¾åº¦çš„<a href="http://imgs.xinhuanet.com/js/baidu/gj.htm" target="_blank" rel="external">é«˜çº§æœç´¢</a>åŠŸèƒ½ã€‚</li>
<li>ç™¾åº¦æœç´¢ç»“æœç¤ºä¾‹ï¼š<code>https://www.baidu.com/link?url=NsJrxOylR5il9kO2p7IJZu9RdvqdWgobSo1W7n29FIu&amp;amp;wd=&amp;amp;eqid=e4c01daf0006800b0000000357debb6c</code>,å®é™…çš„urlä¸º<code>www.whtis.com</code>ã€‚</li>
<li>åŸå› ï¼šç™¾åº¦ä¸ºä»€ä¹ˆè¦å®è¡ŒåŠ å¯†è·³è½¬ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šæœ‰æ„æ€çš„æ–‡ç« ï¼Œæ„Ÿå…´è¶£å¯ä»¥çœ‹çœ‹ã€‚è¿™é‡Œä»…ä»æŠ€æœ¯è§’åº¦è¿›è¡Œè¯´æ˜ã€‚<br><br>ç™¾åº¦çš„è¿™ç§è·³è½¬é‡‡ç”¨çš„æ˜¯302é‡å®šå‘ã€‚è™½ç„¶æœ‰æ—¶å€™çŠ¶æ€ç ä¸æ˜¯302ï¼Œä½†åŸç†å·®ä¸å¤šä¸€æ ·ï¼šå½“ä½ ç‚¹å‡»äº†ç™¾åº¦çš„åŠ å¯†é“¾æ¥åï¼Œä¼šå‘ç™¾åº¦å†…éƒ¨çš„æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œè¿™ä¸ªæ—¶å€™æœåŠ¡å™¨ä¼šæ ¹æ®ä½ æäº¤çš„ç™¾åº¦é“¾æ¥ä½¿ç”¨é‡å®šå‘æŠ€æœ¯è‡ªåŠ¨è·³è½¬åˆ°ç›¸åº”çš„çœŸå®urlã€‚</li>
</ul>
<h3 id="æ‹¿åˆ°çœŸå®çš„URLé“¾æ¥">æ‹¿åˆ°çœŸå®çš„URLé“¾æ¥</h3><p>ç½‘ä¸Šæœ‰å¾ˆå¤šåšå®¢éƒ½æåˆ°è¿‡è¿™äº‹ï¼Œæ—¢ç„¶çŸ¥é“äº†302è·³è½¬çš„åŸç†ï¼Œé‚£ä¹ˆå¯ä»¥é‡‡ç”¨è¿™ç§æ€è·¯æ‹¿åˆ°çœŸå®çš„URLï¼šæ¨¡æ‹Ÿä¸€ä¸ªè¯·æ±‚ï¼Œåœ¨ç™¾åº¦æœåŠ¡å™¨è¿›è¡Œé‡å®šå‘çš„æ—¶å€™è·å¾—é‡å®šå‘çš„åœ°å€å³å¯ã€‚<br><br>åŸç†å¾ˆç®€å•ï¼Œä½†æ˜¯æˆ‘åœ¨ç½‘ä¸Šæ‰¾äº†å¾ˆå¤šï¼ŒåŸºæœ¬éƒ½æ˜¯äº’ç›¸æŠ„ï¼ŒæŠ„çš„ä»£ç æ€ä¹ˆè¯´å‘¢ï¼Œç”¨çš„å·¥å…·éƒ½æ˜¯httpclientï¼Œä½†æ˜¯éƒ½æ˜¯httpclientå·²ç»åºŸå¼ƒçš„æ–¹æ³•ï¼Œè™½ç„¶ä¸æŠ¥é”™ï¼Œä½†æ˜¯æ²¡æ³•å®ç°è¿™åŠŸèƒ½äº†ã€‚æ‰€ä»¥è¿™ä¹Ÿå‘Šè¯‰æˆ‘ä»¬å†™åšå®¢çš„äººï¼Œä¸€å®šè¦æ³¨æ˜è‡ªå·±çš„ä»£ç åŸºäºçš„æ˜¯å“ªä¸ªç‰ˆæœ¬çš„å·¥å…·ï¼Œè™½ç„¶è¿™åªæ˜¯ä¸€ç‚¹å°äº‹ï¼Œä½†å´èƒ½è®©è‡ªå·±å’Œä»–äººèŠ‚çº¦å¾ˆå¤šæ—¶é—´ã€‚<br><br>ä¸‹é¢ä¸Šä»£ç ï¼š</p>
<p><strong>ä½¿ç”¨ç‰ˆæœ¬ï¼šhttpclient 4.3.3</strong><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getRealUrl</span><span class="params">(String url)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        String realUrl = <span class="string">""</span>;</span><br><span class="line"></span><br><span class="line">        HttpClient client = HttpClientBuilder.create().build();</span><br><span class="line">        RequestConfig config = RequestConfig.custom()</span><br><span class="line">        <span class="comment">//ç¦æ­¢è‡ªåŠ¨é‡å®šå‘</span></span><br><span class="line">                .setRedirectsEnabled(<span class="keyword">false</span>)</span><br><span class="line">                .build();</span><br><span class="line"><span class="comment">//302è·³è½¬</span></span><br><span class="line">        HttpGet get = <span class="keyword">new</span> HttpGet(url);</span><br><span class="line">        get.setConfig(config);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          <span class="comment">//å¯¹urlè¿›è¡Œutf-8è§£ç </span></span><br><span class="line">            url = URLDecoder.decode(url, <span class="string">"utf-8"</span>);</span><br><span class="line">            HttpResponse rs = client.execute(get);</span><br><span class="line">            Header h = rs.getFirstHeader(<span class="string">"Location"</span>);</span><br><span class="line">            realUrl = h.getValue().trim();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printstacktrace();</span><br><span class="line">            <span class="keyword">return</span> url;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (realUrl.equals(<span class="string">""</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> url;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> realUrl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<div align="center" style="color:red;width=80px;height:90px;" onmouseout="this.style.border='1px solid blue'" onmouseover="this.style.border='none'"><br><p style="font-weight:bold;font-style:italic;">æœ¬æ–‡ç« é¦–å‘<a href="http://www.whtis.com">www.whtis.com</a>ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„</p><br></div>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/14/PostgreSQLä½¿ç”¨æ‰‹è®°/" itemprop="url">
                  PostgreSQLä½¿ç”¨æ‰‹è®°
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-09-14T22:29:13+08:00" content="2016-09-14">
              2016-09-14
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/SQL/" itemprop="url" rel="index">
                    <span itemprop="name">SQL</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/09/14/PostgreSQLä½¿ç”¨æ‰‹è®°/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/09/14/PostgreSQLä½¿ç”¨æ‰‹è®°/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="å†™åœ¨å‰é¢">å†™åœ¨å‰é¢</h3><p><blockcode><br>&emsp;&emsp;å› ä¸ºé¡¹ç›®éœ€è¦ï¼Œè¦å°†æœ¬æ¥çš„<code>mybatis+mysql</code>æ”¹ä¸º<code>mybatis+postgresql</code>,ä½¿ç”¨é€”ä¸­éš¾å…é‡åˆ°å‘ï¼Œä»¥ä¸‹æ˜¯æˆ‘é‡åˆ°çš„ï¼Œè®°å½•ä¸‹æ¥ä¾›å‚è€ƒã€‚å¥½ä¹…æ²¡å†™blogï¼Œæ„Ÿè§‰éƒ½å¿«é•¿è‰äº†ï¼Œç›®å‰åœ¨æƒ³è¦ä¸è¦å¼€ä¸€ä¸ªåˆ†ç±»ï¼Œå†™ç‚¹æ—¥å¸¸åºŸè¯ğŸ˜‚<br></blockcode><br>&emsp;&emsp;å¥½äº†ï¼Œè¨€å½’æ­£ä¼ ã€‚</p>
<h3 id="ä¸ºä»€ä¹ˆè¦ç”¨PostgreSQL">ä¸ºä»€ä¹ˆè¦ç”¨PostgreSQL</h3><p>ä¸ºä»€ä¹ˆè¦ç”¨å‘¢,ä¸Šé¢å·²ç»è¯´äº†ï¼Œé¡¹ç›®éœ€è¦ã€‚postgresqlç»å¸¸è¢«æ‹¿æ¥å’Œmysqlè¿›è¡Œæ¯”è¾ƒï¼Œpostgresqlå¯ä»¥ç”¨æ¥å­˜å‚¨è¾ƒå¤§çš„å¯¹è±¡æ•°æ®ï¼ˆæ–‡æœ¬ã€è§†é¢‘ã€å›¾ç‰‡ç­‰ï¼‰ï¼Œç¬¦åˆé¡¹ç›®è¦æ±‚ã€‚</p>
<h3 id="ä»€ä¹ˆæ˜¯PostgreSQL">ä»€ä¹ˆæ˜¯PostgreSQL</h3><p>å¿µéƒ½ä¸çŸ¥é“æ€ä¹ˆå¿µçš„ä¸€ä¸ªè¯ï¼Œç¡®å®ç¬¬ä¸€æ„Ÿè§‰æ²¡æœ‰mysqlå¥½ã€‚çœ‹ä¸‹å®˜æ–¹çš„è¯´æ³•ï¼š</p>
<blockquote>
<p>PostgreSQLæ”¯æŒå¤§éƒ¨åˆ† SQLæ ‡å‡†å¹¶ä¸”æä¾›äº†è®¸å¤šå…¶ä»–ç°ä»£ç‰¹æ€§ï¼šå¤æ‚æŸ¥è¯¢ã€å¤–é”®ã€è§¦å‘å™¨ã€è§†å›¾ã€äº‹åŠ¡å®Œæ•´æ€§ã€MVCCã€‚åŒæ ·ï¼ŒPostgreSQL å¯ä»¥ç”¨è®¸å¤šæ–¹æ³•æ‰©å±•ï¼Œæ¯”å¦‚ï¼Œ é€šè¿‡å¢åŠ æ–°çš„æ•°æ®ç±»å‹ã€å‡½æ•°ã€æ“ä½œç¬¦ã€èšé›†å‡½æ•°ã€ç´¢å¼•ã€‚å…è´¹ä½¿ç”¨ã€ä¿®æ”¹ã€å’Œåˆ†å‘ PostgreSQLï¼Œä¸ç®¡æ˜¯ç§ç”¨ã€å•†ç”¨ã€è¿˜æ˜¯å­¦æœ¯ç ”ç©¶ä½¿ç”¨ã€‚(æ‘˜è‡ªç™¾åº¦ç™¾ç§‘)</p>
</blockquote>
<h3 id="ä½¿ç”¨ç‰ˆæœ¬">ä½¿ç”¨ç‰ˆæœ¬</h3><p>æœ¬æ–‡æ€»ç»“åŸºäºPostgreSQL 9.4ç‰ˆæœ¬</p>
<h3 id="å®‰è£…åŠä½¿ç”¨">å®‰è£…åŠä½¿ç”¨</h3><p>æ¨èä¸‹é˜®ä¸€å³°å†™çš„è¿™ç¯‡åšå®¢<a href="http://www.ruanyifeng.com/blog/2013/12/getting_started_with_postgresql.html" target="_blank" rel="external">PostgreSQLæ–°æ‰‹å…¥é—¨</a></p>
<h3 id="ä½¿ç”¨ä¸­å‡ºç°çš„é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ">ä½¿ç”¨ä¸­å‡ºç°çš„é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ</h3><h4 id="é”™è¯¯ä¸€ï¼š_java-sql-SQLException:_No_suitable_driver_found_for_jdbc:postgresql://yourhost:port">é”™è¯¯ä¸€ï¼š <code>java.sql.SQLException: No suitable driver found for jdbc:postgresql://yourhost:port</code></h4><ul>
<li>å¯èƒ½çš„é”™è¯¯åŸå› ï¼š<ul>
<li>ä½¿ç”¨çš„postgresqlçš„é©±åŠ¨ä¸å½“å‰ä½¿ç”¨çš„jdkç‰ˆæœ¬ä¸å…¼å®¹ã€‚å…·ä½“å…¼å®¹æƒ…å†µå‚è§å®˜æ–¹æ–‡æ¡£ï¼Œæœ¬æ–‡ä»…ä½œæ‘˜å½•ï¼š</li>
<li>ç³»ç»Ÿç¯å¢ƒæ²¡æœ‰é…ç½®classpathè·¯å¾„ï¼Œä½¿çš„ç¨‹åºæ— æ³•æ‰¾åˆ°é©±åŠ¨çš„ä½ç½®ã€‚ï¼ˆä½¿ç”¨java IDEç¼–å†™ä»£ç æ—¶ä¸€èˆ¬ä¸ä¼šå‡ºç°è¿™ç§æƒ…å†µï¼‰</li>
<li><strong>è¿æ¥jdbcæ—¶urlæ²¡å†™æ­£ç¡®ï¼Œä¸€å®šè¦å†ä¸‰æ£€æŸ¥ä¸‹æ­£ç¡®çš„url</strong>ï¼ˆè¿™ä¸€æ¡å¾ˆæ¶å¿ƒï¼Œurlé”™è¯¯æ—¶çš„æç¤ºæˆ‘é‡åˆ°è¿‡ä¸¤ç§ï¼Œä¸€ç§æ˜¯æœ¬æ¡ç›®åˆ—å‡ºçš„é”™è¯¯ï¼Œå¦ä¸€ç§æ˜¯æç¤ºå­—ç¬¦ç¼–ç æœ‰é—®é¢˜ï¼‰</li>
</ul>
</li>
</ul>
<h4 id="é”™è¯¯äºŒï¼š_Error_querying_database-_Cause:_org-postgresql-util-PSQLException:_ERROR:_CREATE_DATABASE_cannot_run_inside_a_transaction_block">é”™è¯¯äºŒï¼š <code>Error querying database.  Cause: org.postgresql.util.PSQLException: ERROR: CREATE DATABASE cannot run inside a transaction block</code></h4><ul>
<li><p>å¯èƒ½çš„é”™è¯¯åŸå› ï¼š</p>
<ul>
<li><p>æ ¹æ®ç½‘ä¸ŠæŸ¥åˆ°çš„èµ„æ–™ï¼Œå•ç‹¬ä½¿ç”¨postgresqlæ—¶ï¼Œå‡ºç°è¿™ä¸ªé”™è¯¯çš„åŸå› æ˜¯å› ä¸ºæ²¡æœ‰æ‰“å¼€è‡ªåŠ¨æäº¤ã€‚</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">c = DriverManager.getConnection(<span class="string">"jdbc:postgresql://yourhost"</span>, <span class="string">"username"</span>, <span class="string">"password"</span>);</span><br><span class="line">     c.setAutoCommit(<span class="keyword">true</span>); <span class="comment">// æŠŠè‡ªåŠ¨æäº¤è®¾ç½®ä¸ºtrue</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æˆ‘åœ¨é¡¹ç›®ä¸­å•ç‹¬ä½¿ç”¨Mybatisè¿›è¡Œäº‹åŠ¡ç®¡ç†ï¼Œç®¡ç†<code>PostgreSQL</code>æ—¶ä¹Ÿä¼šå‡ºç°è¿™ä¸ªé”™è¯¯ï¼Œå› ä¸ºMybatiså°è£…äº†<code>java.sql.*</code>ç›¸å…³çš„ç±»,å› æ­¤æ— æ³•æŒ‰ç…§ä¸Šé¢æ–¹å¼è¿›è¡Œæ›´æ”¹ï¼Œåœ¨Mybatisä¸­æ‰“å¼€ä¸€ä¸ªä¼šè¯æ—¶ï¼Œä¹Ÿåº”è¯¥å°†å…¶è®¾ç½®ä¸ºè‡ªåŠ¨æäº¤ï¼ˆmysqlæ— éœ€è®¾ç½®ï¼‰ï¼š</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SqlSession sqlSession = sqlSessionFactory.openSession(<span class="keyword">true</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>æ€»ç»“ï¼šå‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œç½‘ä¸Šç»™çš„è§£å†³æ–¹æ³•å¤§å¤šæ˜¯å› ä¸ºæ²¡æœ‰æ‰“å¼€è‡ªåŠ¨æäº¤ï¼Œä½†æ˜¯ä»…ä»…åœ¨portgresqlæ§åˆ¶å°ä¸Šæ‰§è¡Œ<code>SET AUTOCOMMIT = on</code>æ˜¯æ— ç”¨çš„ï¼Œè‡³äºä¸ºä»€ä¹ˆéœ€è¦æ‰“å¼€è‡ªåŠ¨æäº¤æ‰èƒ½åˆ›å»ºæ•°æ®åº“ï¼Œè¿™ä¸ªä¸å¤ªæ¸…æ¥šï¼Œå¯èƒ½è·Ÿ<code>PostgreSQL</code>è‡ªå·±çš„äº‹åŠ¡ç®¡ç†é€»è¾‘æœ‰å…³ï¼Œè€Œä¸”è¿™æ ·æ”¹åŠ¨åï¼Œæš‚æ—¶ä¸çŸ¥é“ä¼šä¸ä¼šå¯¹ä¹‹åçš„æ•°æ®åº“æ“ä½œé€ æˆå½±å“</strong></p>
</li>
</ul>
</li>
</ul>
<h3 id="ä½¿ç”¨PostgreSQLå­˜å‚¨å¤§æ–‡ä»¶">ä½¿ç”¨PostgreSQLå­˜å‚¨å¤§æ–‡ä»¶</h3><p>å¾…ç¼–è¾‘</p>
<hr>
<div align="center" style="color:red;width=80px;height:90px;" onmouseout="this.style.border='1px solid blue'" onmouseover="this.style.border='none'"><br><p style="font-weight:bold;font-style:italic;">æœ¬æ–‡ç« é¦–å‘<a href="http://www.whtis.com">www.whtis.com</a>ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„</p><br></div>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/29/Javaå­¦ä¹ ç¬”è®°-è®¾ç½®ä»£ç†åŠæ‰“å¼€å¤–éƒ¨ç¨‹åº/" itemprop="url">
                  Javaå­¦ä¹ ç¬”è®°--è®¾ç½®ä»£ç†åŠæ‰“å¼€å¤–éƒ¨ç¨‹åº
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-29T20:14:59+08:00" content="2016-05-29">
              2016-05-29
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/29/Javaå­¦ä¹ ç¬”è®°-è®¾ç½®ä»£ç†åŠæ‰“å¼€å¤–éƒ¨ç¨‹åº/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/29/Javaå­¦ä¹ ç¬”è®°-è®¾ç½®ä»£ç†åŠæ‰“å¼€å¤–éƒ¨ç¨‹åº/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="è®¾ç½®ç³»ç»Ÿä»£ç†">è®¾ç½®ç³»ç»Ÿä»£ç†</h3><ul>
<li><p>ç³»ç»Ÿè®¾ç½®å…¨å±€ä»£ç†</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">System.getProperties().setProperty(<span class="string">"proxySet"</span>, <span class="string">"true"</span>);</span><br><span class="line">System.getProperties().setProperty(<span class="string">"http.proxyHost"</span>, <span class="string">"ip"</span>);</span><br><span class="line">System.getProperties().setProperty(<span class="string">"http.proxyPort"</span>, port);</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨äº†seleniumçš„chromeé©±åŠ¨ï¼Œwebdriverè®¾ç½®ä»£ç†</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">System.setProperty(<span class="string">"webdriver.chrome.driver"</span>, <span class="string">"filepath"</span>);</span><br><span class="line">String proxyIpAndPort = ip + <span class="string">":"</span> + port;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»£ç†é…ç½®</span></span><br><span class="line">DesiredCapabilities cap = <span class="keyword">new</span> DesiredCapabilities();</span><br><span class="line">org.openqa.selenium.Proxy proxy = <span class="keyword">new</span> org.openqa.selenium.Proxy();</span><br><span class="line"></span><br><span class="line"><span class="comment">// é…ç½®httpã€ftpã€sslä»£ç†ï¼ˆæ³¨ï¼šå½“å‰ç‰ˆæœ¬åªæ”¯æŒæ‰€æœ‰çš„åè®®å…¬ç”¨httpåè®®ï¼Œä¸‹è¿°ä»£ç ç­‰åŒäºåªé…ç½®httpï¼‰</span></span><br><span class="line">proxy.setHttpProxy(proxyIpAndPort)</span><br><span class="line">        .setFtpProxy(proxyIpAndPort)</span><br><span class="line">        .setSslProxy(proxyIpAndPort);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥ä¸‹ä¸‰è¡Œæ˜¯ä¸ºäº†é¿å…localhostå’Œselenium driverçš„ä¹Ÿä½¿ç”¨ä»£ç†ï¼ŒåŠ¡å¿…è¦åŠ ï¼Œå¦åˆ™æ— æ³•ä¸iedriveré€šè®¯</span></span><br><span class="line">cap.setCapability(CapabilityType.ForSeleniumServer.AVOIDING_PROXY, <span class="keyword">true</span>);</span><br><span class="line">cap.setCapability(CapabilityType.ForSeleniumServer.ONLY_PROXYING_SELENIUM_TRAFFIC, <span class="keyword">true</span>);</span><br><span class="line">System.setProperty(<span class="string">"http.nonProxyHosts"</span>, <span class="string">"localhost"</span>);</span><br><span class="line"></span><br><span class="line">cap.setCapability(CapabilityType.PROXY, proxy);</span><br><span class="line"></span><br><span class="line">WebDriver webDriver = <span class="keyword">new</span> ChromeDriver(cap);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="æ‰“å¼€å¤–éƒ¨ç¨‹åº">æ‰“å¼€å¤–éƒ¨ç¨‹åº</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Process p = Runtime.getRuntime().exec(<span class="string">"cmd command"</span>);</span><br></pre></td></tr></table></figure>
<p><strong>å¦‚æœå¤–éƒ¨ç¨‹åºæ”¾åœ¨ä¸€ä¸ªå•ç‹¬çš„çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼šè¯¥çº¿ç¨‹æ‰§è¡Œå®Œå¹¶ä¸ä»£è¡¨ç€å¤–éƒ¨ç¨‹åºä¹Ÿæ‰§è¡Œå®Œç›¸åº”çš„ä»»åŠ¡ã€‚</strong></p>
<hr>
<div align="center" style="color:red;width=80px;height:90px;" onmouseout="this.style.border='1px solid blue'" onmouseover="this.style.border='none'"><br><p style="font-weight:bold;font-style:italic;">æœ¬æ–‡ç« é¦–å‘<a href="http://www.whtis.com">www.whtis.com</a>ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„</p><br></div>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/05/05/HttpClient4-xä½¿ç”¨ä¸­å‡ºç°çš„å‡ ä¸ªé—®é¢˜åŠè§£å†³æ–¹æ³•/" itemprop="url">
                  HttpClient4.xä½¿ç”¨ä¸­å‡ºç°çš„å‡ ä¸ªé—®é¢˜åŠè§£å†³æ–¹æ³•
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-05-05T22:38:39+08:00" content="2016-05-05">
              2016-05-05
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Webç›¸å…³/" itemprop="url" rel="index">
                    <span itemprop="name">Webç›¸å…³</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/05/05/HttpClient4-xä½¿ç”¨ä¸­å‡ºç°çš„å‡ ä¸ªé—®é¢˜åŠè§£å†³æ–¹æ³•/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/05/05/HttpClient4-xä½¿ç”¨ä¸­å‡ºç°çš„å‡ ä¸ªé—®é¢˜åŠè§£å†³æ–¹æ³•/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>æœ€è¿‘æ‰å¼€å§‹æ¥è§¦è¿™ä¸ªå·¥å…·åŒ…ï¼Œå®˜ç½‘ä¸Šç›®å‰å·²ç»æ›´æ–°åˆ°<a href="http://hc.apache.org/downloads.cgi" target="_blank" rel="external">HttpClient4.5.2</a>äº†ã€‚googleçš„æ—¶å€™çœ‹åˆ°HttpClientä»4.0ç‰ˆæœ¬æ”¹äº†åº•å±‚ï¼Œå› æ­¤ä½¿ç”¨æ—¶ä¼šå‡ºç°ä¸€äº›æ–¹æ³•ä¸å†é€‚ç”¨çš„é—®é¢˜ï¼Œè¿™é‡Œè®°å½•å‡ºç°çš„ä¸€äº›é—®é¢˜ä»¥åŠç›¸åº”æ›¿ä»£çš„æ–¹æ³•ã€‚</p>
<p>1ã€ åˆ›å»ºHttpClientæ—¶ä½¿ç”¨ä¸‹é¢çš„è¯­å¥ï¼Œä¼šå‡ºç°<code>org.apache.http.impl.client.DefaultHttpClient&#39; is deprecated</code><br>    <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HttpClient httpClient = <span class="keyword">new</span> DefaultHttpClient();</span><br></pre></td></tr></table></figure></p>
<p>   å¯ä»¥ä½¿ç”¨å¦‚ä¸‹è¯­å¥ä»£æ›¿ï¼š<a href="http://stackoverflow.com/questions/15336477/deprecated-java-httpclient-how-hard-can-it-be" target="_blank" rel="external">æ¥æº</a><br>   <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HttpClient httpClient = HttpClientBuilder.create().build();</span><br></pre></td></tr></table></figure></p>
<p>   æˆ–è€…<br>   <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºHttpClientBuilder</span></span><br><span class="line">HttpClientBuilder httpClientBuilder = HttpClientBuilder.create();</span><br><span class="line"><span class="comment">// HttpClient</span></span><br><span class="line">CloseableHttpClient httpClient = httpClientBuilder.build();</span><br></pre></td></tr></table></figure></p>
<p>2ã€ è®¾ç½®ä»£ç†ï¼ŒHttpClient4.5.2ç‰ˆæœ¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹è¯­å¥ï¼š<br>   <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºä»£ç†</span></span><br><span class="line">HttpHost proxy = <span class="keyword">new</span> HttpHost(<span class="string">"your proxy IP"</span>, port);</span><br><span class="line">RequestConfig config = RequestConfig.custom().setProxy(proxy).build();</span><br><span class="line"></span><br><span class="line"><span class="comment">//è®¾ç½®HttpPost/HttpGetä½¿ç”¨ä»£ç†</span></span><br><span class="line">httpost.setConfig(config);</span><br></pre></td></tr></table></figure></p>
<p>3ã€getæˆ–postæ—¶ï¼Œå¦‚æœè®¿é—®çš„ç½‘ç«™æ˜¯httpsåè®®çš„ï¼Œå¯ä»¥ç”¨å¦‚ä¸‹æ–¹å¼è®¿é—®ï¼šä¿¡ä»»æ‰€æœ‰è¯ä¹¦ï¼Œå¦‚æœå¯ä»¥å…·ä½“åˆ°æ¯ä¸ªè¯ä¹¦ï¼Œå°±æ›´å¥½äº†ã€‚<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">            SSLContext sslContext = <span class="keyword">new</span> SSLContextBuilder().loadTrustMaterial(<span class="keyword">null</span>, <span class="keyword">new</span> TrustStrategy() &#123;</span><br><span class="line">                <span class="comment">//ä¿¡ä»»æ‰€æœ‰</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isTrusted</span><span class="params">(X509Certificate[] chain,</span><br><span class="line">                                         String authType)</span> <span class="keyword">throws</span> CertificateException </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;).build();</span><br><span class="line">            SSLConnectionSocketFactory sslsf = <span class="keyword">new</span> SSLConnectionSocketFactory(sslContext);</span><br><span class="line">            <span class="keyword">return</span> HttpClients.custom().setSSLSocketFactory(sslsf).build();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (KeyManagementException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (NoSuchAlgorithmException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (KeyStoreException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> HttpClients.createDefault();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<div align="center" style="color:red;width=80px;height:90px;" onmouseout="this.style.border='1px solid blue'" onmouseover="this.style.border='none'"><br><p style="font-weight:bold;font-style:italic;">æœ¬æ–‡ç« é¦–å‘<a href="http://www.whtis.com">www.whtis.com</a>ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„</p><br></div>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/04/21/Javaé˜¶æ®µæ€§æ€»ç»“/" itemprop="url">
                  Javaé˜¶æ®µæ€§æ€»ç»“
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-04-21T18:29:08+08:00" content="2016-04-21">
              2016-04-21
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/04/21/Javaé˜¶æ®µæ€§æ€»ç»“/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/04/21/Javaé˜¶æ®µæ€§æ€»ç»“/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>èŠ±äº†å¤§åŠå¹´çš„æ—¶é—´ï¼Œç®—æ˜¯å½»åº•ä»å¤´çœ‹äº†ä¸€éJavaçš„åŸºæœ¬çŸ¥è¯†ï¼Œå‚è€ƒä¹¦ç±æ˜¯ã€ŠJavaè¯­è¨€ç¨‹åºè®¾è®¡ã€‹åŸä¹¦ç¬¬äº”ç‰ˆï¼Œä½œè€…ä¸ºY.daniel Liangï¼ŒåŸºç¡€ç¯‡å’Œæé«˜ç¯‡ä¸­çš„é‡è¦å†…å®¹éƒ½æ‘˜å½•åœ¨äº†ä¹‹å‰çš„æ–‡ç« ä¸­ã€‚æœ¬æ–‡å°±æ˜¯å¯¹ä¹‹å‰çš„Javaæ€»ç»“åšä¸ªåˆ†ç±»ï¼Œæ–¹ä¾¿è‡ªå·±ä»¥åå›é¡¾ã€‚</p>
<h3 id="ç¬¬ä¸€ç¯‡_ç¨‹åºè®¾è®¡åŸºç¡€ï¼ˆ1~5ç« ï¼‰">ç¬¬ä¸€ç¯‡ ç¨‹åºè®¾è®¡åŸºç¡€ï¼ˆ1~5ç« ï¼‰</h3><h5 id="ç¬¬ä¸€ç« _è®¡ç®—æœºã€ç¨‹åºå’ŒJavaæ¦‚è¿°"><a href="http://www.whtis.com/2015/12/20/Java%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93-%E7%AC%AC%E4%B8%80%E7%AB%A0-%E8%AE%A1%E7%AE%97%E6%9C%BA%E3%80%81%E7%A8%8B%E5%BA%8F%E5%92%8CJava%E6%A6%82%E8%BF%B0/">ç¬¬ä¸€ç«  è®¡ç®—æœºã€ç¨‹åºå’ŒJavaæ¦‚è¿°</a></h5><h5 id="ç¬¬äºŒç« _åŸºæœ¬æ•°æ®ç±»å‹å’ŒåŸºæœ¬æ“ä½œ"><a href="http://www.whtis.com/2015/12/22/Java%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93-%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/">ç¬¬äºŒç«  åŸºæœ¬æ•°æ®ç±»å‹å’ŒåŸºæœ¬æ“ä½œ</a></h5><h5 id="ç¬¬ä¸‰ç« _æ§åˆ¶è¯­å¥"><a href="http://www.whtis.com/2016/01/10/Java%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93-%E7%AC%AC%E4%B8%89%E7%AB%A0-%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5/">ç¬¬ä¸‰ç«  æ§åˆ¶è¯­å¥</a></h5><h5 id="ç¬¬å››ç« _æ–¹æ³•"><a href="http://www.whtis.com/2016/01/11/Java%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93-%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E6%96%B9%E6%B3%95/">ç¬¬å››ç«  æ–¹æ³•</a></h5><h5 id="ç¬¬äº”ç« _æ•°ç»„"><a href="http://www.whtis.com/2016/01/20/Java%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93-%E7%AC%AC%E4%BA%94%E7%AB%A0-%E6%95%B0%E7%BB%84/">ç¬¬äº”ç«  æ•°ç»„</a></h5><h3 id="ç¬¬äºŒç¯‡_é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ï¼ˆ6~10ç« ï¼‰">ç¬¬äºŒç¯‡ é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ï¼ˆ6~10ç« ï¼‰</h3><h5 id="ç¬¬å…­ç« _å¯¹è±¡å’Œç±»"><a href="http://www.whtis.com/2016/01/26/Java%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93-%E7%AC%AC%E5%85%AD%E7%AB%A0-%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB/">ç¬¬å…­ç«  å¯¹è±¡å’Œç±»</a></h5><h5 id="ç¬¬ä¸ƒç« _å­—ç¬¦ä¸²"><a href="http://www.whtis.com/2016/01/26/Java%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93-%E7%AC%AC%E4%B8%83%E7%AB%A0-%E5%AD%97%E7%AC%A6%E4%B8%B2/">ç¬¬ä¸ƒç«  å­—ç¬¦ä¸²</a></h5><h5 id="ç¬¬å…«ç« _ç»§æ‰¿å’Œå¤šæ€"><a href="http://www.whtis.com/2016/01/27/Java%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93-%E7%AC%AC%E5%85%AB%E7%AB%A0-%E7%BB%A7%E6%89%BF%E5%92%8C%E5%A4%9A%E6%80%81/">ç¬¬å…«ç«  ç»§æ‰¿å’Œå¤šæ€</a></h5><h5 id="ç¬¬ä¹ç« _æŠ½è±¡ç±»å’Œæ¥å£"><a href="http://www.whtis.com/2016/01/28/Java%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93-%E7%AC%AC%E4%B9%9D%E7%AB%A0-%E6%8A%BD%E8%B1%A1%E7%B1%BB%E5%92%8C%E6%8E%A5%E5%8F%A3/">ç¬¬ä¹ç«  æŠ½è±¡ç±»å’Œæ¥å£</a></h5><h5 id="ç¬¬åç« _é¢å‘å¯¹è±¡å»ºæ¨¡"><a href="http://www.whtis.com/2016/01/29/Java%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93-%E7%AC%AC%E5%8D%81%E7%AB%A0-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%BB%BA%E6%A8%A1/">ç¬¬åç«  é¢å‘å¯¹è±¡å»ºæ¨¡</a></h5><h3 id="ç¬¬ä¸‰ç¯‡_å›¾å½¢ç”¨æˆ·ç•Œé¢è®¾è®¡ï¼ˆ11~13ç« ï¼‰">ç¬¬ä¸‰ç¯‡ å›¾å½¢ç”¨æˆ·ç•Œé¢è®¾è®¡ï¼ˆ11~13ç« ï¼‰</h3><h5 id="ç¬¬åä¸€ç« _å›¾å½¢ç”¨æˆ·ç•Œé¢ç¨‹åºè®¾è®¡"><a href="http://www.whtis.com/2016/02/05/Java%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93-%E7%AC%AC%E5%8D%81%E4%B8%80%E7%AB%A0-%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/">ç¬¬åä¸€ç«  å›¾å½¢ç”¨æˆ·ç•Œé¢ç¨‹åºè®¾è®¡</a></h5><h5 id="ç¬¬åäºŒç« _äº‹ä»¶é©±åŠ¨ç¨‹åº"><a href="http://www.whtis.com/2016/02/09/Java%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93-%E7%AC%AC%E5%8D%81%E4%BA%8C%E7%AB%A0-%E4%BA%8B%E4%BB%B6%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F/">ç¬¬åäºŒç«  äº‹ä»¶é©±åŠ¨ç¨‹åº</a></h5><h5 id="ç¬¬åä¸‰ç« _åˆ›å»ºå›¾å½¢ç”¨æˆ·ç•Œé¢"><a href="http://www.whtis.com/2016/02/15/Java%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93-%E7%AC%AC%E5%8D%81%E4%B8%89%E7%AB%A0-%E5%88%9B%E5%BB%BA%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2/">ç¬¬åä¸‰ç«  åˆ›å»ºå›¾å½¢ç”¨æˆ·ç•Œé¢</a></h5><h3 id="ç¬¬å››ç¯‡_å¼‚å¸¸å¤„ç†ã€I/Oï¼ˆ15~16ç« ï¼‰">ç¬¬å››ç¯‡ å¼‚å¸¸å¤„ç†ã€I/Oï¼ˆ15~16ç« ï¼‰</h3><h5 id="ç¬¬åäº”ç« _å¼‚å¸¸å’Œæ–­è¨€"><a href="http://www.whtis.com/2016/01/30/Java%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93-%E7%AC%AC%E5%8D%81%E4%BA%94%E7%AB%A0-%E5%BC%82%E5%B8%B8%E5%92%8C%E6%96%AD%E8%A8%80/">ç¬¬åäº”ç«  å¼‚å¸¸å’Œæ–­è¨€</a></h5><h5 id="ç¬¬åå…­ç« _ç®€å•è¾“å…¥è¾“å‡º"><a href="http://www.whtis.com/2016/02/18/Java%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93-%E7%AC%AC%E5%8D%81%E5%85%AD%E7%AB%A0-%E7%AE%80%E5%8D%95%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/">ç¬¬åå…­ç«  ç®€å•è¾“å…¥è¾“å‡º</a></h5><h3 id="ç¬¬äº”ç¯‡_æ•°æ®ç»“æ„ä¸é›†åˆæ¶æ„">ç¬¬äº”ç¯‡ æ•°æ®ç»“æ„ä¸é›†åˆæ¶æ„</h3><h5 id="ç¬¬åä¸ƒç« _é¢å‘å¯¹è±¡æ•°æ®ç»“æ„"><a href="http://www.whtis.com/2016/03/22/Java%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93-%E7%AC%AC%E5%8D%81%E4%B8%83%E7%AB%A0-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">ç¬¬åä¸ƒç«  é¢å‘å¯¹è±¡æ•°æ®ç»“æ„</a></h5><h5 id="ç¬¬åå…«ç« _Javaé›†åˆæ¶æ„"><a href="http://www.whtis.com/2016/04/01/Java%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93-%E7%AC%AC%E5%8D%81%E5%85%AB%E7%AB%A0-Java%E9%9B%86%E5%90%88%E6%9E%B6%E6%9E%84/">ç¬¬åå…«ç«  Javaé›†åˆæ¶æ„</a></h5><h3 id="ç¬¬å…­ç¯‡_å¤šçº¿ç¨‹">ç¬¬å…­ç¯‡ å¤šçº¿ç¨‹</h3><h5 id="ç¬¬åä¹ç« _å¤šçº¿ç¨‹"><a href="http://www.whtis.com/2016/04/10/java%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93-%E7%AC%AC%E5%8D%81%E4%B9%9D%E7%AB%A0-%E5%A4%9A%E7%BA%BF%E7%A8%8B/">ç¬¬åä¹ç«  å¤šçº¿ç¨‹</a></h5><h3 id="ç½‘ç»œ">ç½‘ç»œ</h3><h5 id="ç¬¬äºŒåå…«ç« _ç½‘ç»œ"><a href="http://www.whtis.com/2016/04/16/Java%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93-%E7%AC%AC%E4%BA%8C%E5%8D%81%E5%85%AB%E7%AB%A0-%E7%BD%91%E7%BB%9C/">ç¬¬äºŒåå…«ç«  ç½‘ç»œ</a></h5><hr>
<div align="center" style="color:red;width=80px;height:90px;" onmouseout="this.style.border='1px solid blue'" onmouseover="this.style.border='none'"><br><p style="font-weight:bold;font-style:italic;">æœ¬æ–‡ç« é¦–å‘<a href="http://www.whtis.com">www.whtis.com</a>ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„</p><br></div>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/04/16/Javaå­¦ä¹ æ€»ç»“-ç¬¬äºŒåå…«ç« -ç½‘ç»œ/" itemprop="url">
                  Javaå­¦ä¹ æ€»ç»“-ç¬¬äºŒåå…«ç«  ç½‘ç»œ
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-04-16T21:43:48+08:00" content="2016-04-16">
              2016-04-16
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/04/16/Javaå­¦ä¹ æ€»ç»“-ç¬¬äºŒåå…«ç« -ç½‘ç»œ/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/04/16/Javaå­¦ä¹ æ€»ç»“-ç¬¬äºŒåå…«ç« -ç½‘ç»œ/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong> æœ¬æ–‡æ€»ç»“æºè‡ªã€ŠJavaè¯­è¨€ç¨‹åºè®¾è®¡ã€‹åŸä¹¦ç¬¬äº”ç‰ˆï¼Œä½œè€…ä¸ºY.daniel Liangï¼Œä¹ é¢˜åŠç¼–ç¨‹ç»ƒä¹ å‡å‚ç…§æ­¤ä¹¦ã€‚</strong></p>
<hr>
<h2 id="ä¸»è¦å†…å®¹">ä¸»è¦å†…å®¹</h2><p><code>åŸºäºå¥—æ¥å­—çš„é€šä¿¡</code>å¯ä»¥ä½¿ç¨‹åºé€šè¿‡æŒ‡å®šçš„å¥—æ¥å­—è¿›è¡Œé€šä¿¡ã€‚<code>å¥—æ¥å­—ï¼ˆsocketï¼‰</code>æ˜¯ä¸¤ä¸ªä¸»æœºä¹‹é—´é€»è¾‘è¿æ¥çš„ç«¯ç‚¹ï¼Œå¯ä»¥ç”¨äºå‘é€å’Œæ¥æ”¶æ•°æ®ã€‚<br>Javaæ”¯æŒæµå¥—æ¥å­—å’Œæ•°æ®æŠ¥å¥—æ¥å­—ã€‚<code>æµå¥—æ¥å­—ï¼ˆstream socketï¼‰</code>ä½¿ç”¨ä¼ è¾“æ§åˆ¶åè®®ï¼ˆTransmission Control Protocolï¼ŒTCPï¼‰è¿›è¡Œæ•°æ®ä¼ è¾“ï¼Œè€Œ<code>æ•°æ®æŠ¥å¥—æ¥å­—ï¼ˆdatagram socketï¼‰</code>ä½¿ç”¨çš„æ˜¯ç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼ˆUser Datagram Protocolï¼ŒUDPï¼‰ã€‚</p>
<h3 id="å®¢æˆ·/æœåŠ¡å™¨è®¡ç®—æ¨¡å¼">å®¢æˆ·/æœåŠ¡å™¨è®¡ç®—æ¨¡å¼</h3><ul>
<li>æœåŠ¡å™¨å’Œå®¢æˆ·ä¸€æ—¦å»ºç«‹è¿æ¥ï¼Œå®¢æˆ·å’ŒæœåŠ¡å™¨å°±å¯ä»¥é€šè¿‡å¥—æ¥å­—è¿›è¡Œé€šä¿¡ã€‚</li>
<li><p>åˆ›å»º<code>æœåŠ¡å™¨å¥—æ¥å­—ï¼ˆserver socketï¼‰</code>ï¼Œå¹¶æŠŠå®ƒé™„åŠ åˆ°ä¸€ä¸ªç«¯å£ä¸Šï¼ŒæœåŠ¡å™¨ä»ç«¯å£ç›‘å¬è¿æ¥ã€‚ç«¯å£æ ‡è¯†å¥—æ¥å­—ä¸Šçš„TCPæœåŠ¡ï¼Œç«¯å£å·çš„èŒƒå›´ä»0åˆ°65536ï¼Œä½†æ˜¯0åˆ°1024å·æ˜¯ä¸ºç‰¹æƒæœåŠ¡ä¿ç•™çš„ç«¯å£ã€‚</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ServerSocket serverSocket = <span class="keyword">new</span> ServerSocket(port);</span><br><span class="line"><span class="comment">//ç›‘å¬</span></span><br><span class="line">Socket socket = serverSocket.accept();</span><br></pre></td></tr></table></figure>
<p><strong>å¦‚æœä¼å›¾åœ¨å·²ç»ä½¿ç”¨çš„ç«¯å£ä¸Šåˆ›å»ºæœåŠ¡å™¨å¥—æ¥å­—ï¼Œå°†ä¼šå¼•èµ·<code>java.net.BindException</code>å¼‚å¸¸ã€‚</strong></p>
</li>
<li><p>æœåŠ¡å™¨çš„ç›‘å¬è¯­å¥ä¼šä¸€ç›´ç­‰å¾…ï¼Œç›´åˆ°ä¸€ä¸ªå®¢æˆ·ä¸æœåŠ¡å™¨å¥—æ¥å­—å»ºç«‹è¿æ¥ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Socket socket = <span class="keyword">new</span> Socket(serverName,port);</span><br></pre></td></tr></table></figure>
<p>serverNameæ˜¯æœåŠ¡å™¨çš„åŸŸåæˆ–IPåœ°å€ã€‚</p>
</li>
<li><p>é€šè¿‡å¾—åˆ°socketçš„è¾“å…¥è¾“å‡ºæµï¼Œæ¥å¯ä»¥è¿›è¡Œæ•°æ®ä¼ è¾“äº†ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">InputStream input = socket.getInputStream();</span><br><span class="line">OutputStream output = socket.getOutputStream();</span><br></pre></td></tr></table></figure>
<p><strong>å»ºè®®ä½¿ç”¨äºŒè¿›åˆ¶I/Oåœ¨æœåŠ¡å™¨å’Œå®¢æˆ·é—´è¿›è¡Œæ•°æ®ä¼ è¾“ï¼Œä»¥ä¾¿æé«˜æ•ˆç‡ã€‚</strong></p>
</li>
</ul>
<h3 id="ç½‘ç»œåœ°å€ç±»InetAddress">ç½‘ç»œåœ°å€ç±»InetAddress</h3><ul>
<li><p>å¯ä»¥ä½¿ç”¨ç±»InetAddressæ¥æ±‚å¾—å®¢æˆ·çš„ä¸»æœºåå’ŒIPåœ°å€ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">InetAddress inetAddress = socket.getInetAddress();</span><br><span class="line">String hostname = inetAddress.getHostName();</span><br><span class="line">String ip = inetAddress.getHostAddress();</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥ä½¿ç”¨é™æ€æ–¹æ³•getByNameé€šè¿‡ä¸»æœºåæˆ–IPåœ°å€åˆ›å»ºInetAddressçš„ä¸€ä¸ªå®ä¾‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">InetAddress address = InetAddress.getByName(<span class="string">"www.google.com"</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="å¤šå®¢æˆ·æœåŠ¡">å¤šå®¢æˆ·æœåŠ¡</h3><ul>
<li><p>å¯ä»¥ä½¿ç”¨çº¿ç¨‹å¤„ç†æœåŠ¡å™¨ä¸Šå¤šä¸ªå®¢æˆ·çš„åŒæ­¥é—®é¢˜ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">	Socket socket = serverSocket.accept();</span><br><span class="line">	Thread thread = <span class="keyword">new</span> ThreadClass(socket);</span><br><span class="line">	thread.start();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æœåŠ¡å™¨å¥—æ¥å­—å¯ä»¥æœ‰å¤šä¸ªè¿æ¥ã€‚whileå¾ªç¯çš„æ¯æ¬¡è¿­ä»£åˆ›å»ºä¸€ä¸ªæ–°çš„è¿æ¥ã€‚</p>
</li>
</ul>
<h3 id="å‘é€å’Œæ¥æ”¶å¯¹è±¡">å‘é€å’Œæ¥æ”¶å¯¹è±¡</h3><ul>
<li>å¯ä»¥åœ¨å¥—æ¥å­—æµä¸Šä½¿ç”¨ObjectInputStreamå’ŒObjectOutputStreamæ¥æ”¶å’Œå‘é€å¯¹è±¡ã€‚ä¸ºäº†èƒ½å¤Ÿè¿›è¡Œä¼ è¾“ï¼Œè¿™äº›å¯¹è±¡å¿…é¡»å®ç°<code>Serializable</code>æ¥å£ã€‚</li>
</ul>
<h3 id="ä»WebæœåŠ¡å™¨ä¸Šè¯»å–æ–‡ä»¶">ä»WebæœåŠ¡å™¨ä¸Šè¯»å–æ–‡ä»¶</h3><ul>
<li>å¯ä»¥åˆ›å»ºä¸€ä¸ª<code>java.net.URL</code>å¯¹è±¡ï¼Œç„¶åæ‰“å¼€ä¸€ä¸ªè¾“å…¥æµï¼š<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">URL url = <span class="keyword">new</span> URL(<span class="string">"www.whtis.com"</span>);</span><br><span class="line">InputStream inputStream = url.openStream();</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="JEditorPanelç±»">JEditorPanelç±»</h3><ul>
<li>Swingæä¾›äº†ä¸€ä¸ªåå«javax.swing.JEditorPanelçš„GUIç»„ä»¶ï¼Œå®ƒèƒ½å¤Ÿè‡ªåŠ¨åœ°æ˜¾ç¤ºæ™®é€šæ–‡æœ¬æ–‡ä»¶ã€HTMLæ–‡ä»¶å’ŒRTFæ–‡ä»¶ã€‚ </li>
<li><p>è¦æ˜¾ç¤ºæ–‡ä»¶çš„å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨setPageï¼ˆURLï¼‰æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPage</span><span class="params">(URL url)</span> <span class="keyword">throws</span> IOException</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å½“å•å‡»ç¼–è¾‘çª—æ ¼ä¸­çš„ä¸€ä¸ªè¶…é“¾æ¥æ—¶ï¼ŒJEditorPaneläº§ç”Ÿ<code>javax.swing.event.HyperLink Event</code>äº‹ä»¶ï¼Œé€šè¿‡è¯¥äº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°è¶…é“¾æ¥çš„URLï¼Œå¹¶ä½¿ç”¨setPage(url)æ–¹æ³•æ˜¾ç¤ºå®ƒã€‚</p>
</li>
</ul>
<h3 id="æ•°æ®æŠ¥å¥—æ¥å­—">æ•°æ®æŠ¥å¥—æ¥å­—</h3><ul>
<li>æˆ‘ä»¬ç¼–å†™çš„æœ‰äº›ç½‘ç»œé€šä¿¡ä¸è¦æ±‚TCPæä¾›å¯é çš„ã€ç‚¹å¯¹ç‚¹çš„é€šé“ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œæ•°æ®æŠ¥é€šä¿¡æ•ˆç‡æ›´é«˜ã€‚</li>
<li>æ•°æ®æ˜¯ç”¨<code>åˆ†ç»„ï¼ˆpacketï¼Œæˆ–ç§°ä¸ºåŒ…ï¼‰</code>è¿›è¡Œä¼ è¾“çš„ã€‚æ•°æ®æŠ¥å¥—æ¥å­—ä½¿ç”¨<code>ç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼ˆUser Datagram Protocolï¼ŒUDPï¼‰</code>ï¼Œè¯¥åè®®ä¸èƒ½ä¿è¯åˆ†ç»„ä¸ä¼šä¸¢å¤±ã€æˆ–è€…ä¸ä¼šé‡å¤æ¥æ”¶ã€æˆ–è€…æ¥æ”¶çš„é¡ºåºä¸å‘é€çš„é¡ºåºä¸åŒã€‚</li>
<li><code>æ•°æ®æŠ¥ï¼ˆdatagramï¼‰</code>æ˜¯ç‹¬ç«‹çš„ï¼ŒåŒ…å«è‡ªèº«ç½‘ç»œä¸Šçš„ä¼ è¾“ä¿¡æ¯ï¼Œå®ƒçš„åˆ°è¾¾ã€åˆ°è¾¾çš„æ—¶é—´å’Œå†…å®¹éƒ½æ²¡æœ‰ä¿è¯ã€‚</li>
</ul>
<h4 id="DatagramPacketç±»å’ŒDatagramSocketç±»">DatagramPacketç±»å’ŒDatagramSocketç±»</h4><ul>
<li>DatagramPacketè¡¨ç¤ºæ•°æ®æŠ¥çš„åˆ†ç»„ã€‚è¦ä¸ºæ¥è‡ªå®¢æˆ·çš„ä¼ é€åˆ›å»ºDatagramPacketå¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨æ„é€ æ–¹æ³•<code>DatagramPacket(byte[] buf,int length,InetAddress host,int prot)</code>ã€‚è¦åˆ›å»ºå…¶ä»–æ‰€æœ‰çš„DatagramPacketå¯¹è±¡ï¼Œä½¿ç”¨æ„é€ æ–¹æ³•<code>DatagramPacket(byte[] buf,int length)</code>ã€‚ä¸€æ—¦åˆ›å»ºäº†ä¸€ä¸ªæ•°æ®æŠ¥åˆ†ç»„ï¼Œå°±å¯ä»¥ä½¿ç”¨getData()æ–¹æ³•å’ŒsetData()æ–¹æ³•è·å–å’Œè®¾ç½®åˆ†ç»„ä¸­çš„æ•°æ®ã€‚</li>
<li>æ•°æ®æŠ¥å¥—æ¥å­—ç±»DatagramSocketè¡¨ç¤ºå‘é€å’Œæ¥æ”¶æ•°æ®æŠ¥åˆ†ç»„çš„å¥—æ¥å­—ã€‚æ•°æ®æŠ¥å¥—æ¥å­—æ˜¯åˆ†ç»„ä¼ è¾“æœåŠ¡çš„å‘é€å’Œæ¥æ”¶ç‚¹ã€‚æ¯ä¸ªåœ¨å¥—æ¥å­—ä¸Šå‘é€å’Œæ¥æ”¶çš„åˆ†ç»„éƒ½æ˜¯ç‹¬ç«‹ç¼–å€å’Œè·¯ç”±çš„ã€‚<ul>
<li>è¦åˆ›å»ºæœåŠ¡å™¨ä¸Šçš„æ•°æ®æŠ¥å¥—æ¥å­—ï¼Œä½¿ç”¨æ„é€ æ–¹æ³•DatagramSocket(int port),å®ƒå°†å¥—æ¥å­—ç»‘å®šåˆ°æœ¬åœ°ä¸»æœºæŒ‡å®šçš„ç«¯å£ä¸Šã€‚</li>
<li>è¦åˆ›å»ºå®¢æˆ·ä¸Šçš„æ•°æ®æŠ¥å¥—æ¥å­—ï¼Œä½¿ç”¨æ„é€ æ–¹æ³•DatagramSocket()ï¼Œå®ƒå°†å¥—æ¥å­—ç»‘å®šåˆ°æœ¬åœ°ä¸»æœºä»»æ„ä¸€ä¸ªå¯ç”¨çš„ç«¯å£ä¸Šã€‚</li>
</ul>
</li>
</ul>
<hr>
<h2 id="å¤ä¹ å°ç»“">å¤ä¹ å°ç»“</h2><ul>
<li>æµå¥—æ¥å­—çš„ç«¯å£å·å’Œæ•°æ®æŠ¥å¥—æ¥å­—çš„ç«¯å£å·æ˜¯äº’ä¸ç›¸å…³çš„ã€‚æµå¥—æ¥å­—å’Œæ•°æ®æŠ¥å¥—æ¥å­—èƒ½å¤ŸåŒæ—¶ä½¿ç”¨åŒä¸€ä¸ªç«¯å£å·ã€‚</li>
<li>æ•°æ®æŠ¥å¥—æ¥å­—ä½¿ç”¨<code>send(DatagramSocket)</code>å‘é€åˆ†ç»„ï¼Œä½¿ç”¨<code>receive(DatagramSocket)</code>æ¥æ”¶åˆ†ç»„ã€‚</li>
</ul>
<hr>
<h2 id="ç¼–ç¨‹ç»ƒä¹ ">ç¼–ç¨‹ç»ƒä¹ </h2><ul>
<li>ä¹ é¢˜28.1 28.3 28.6 28.8 28.9 28.10æºä»£ç è§æˆ‘çš„Githubï¼š <a href="https://github.com/whtis/Java-Exercises/tree/master/chapter28/src" target="_blank" rel="external">chapter28</a></li>
<li><p>ä¹ é¢˜28.6 </p>
<ul>
<li><p>æœåŠ¡å™¨ç«¯çš„è¾“å…¥è¾“å‡ºæµåº”è¯¥å’Œå®¢æˆ·ç«¯çš„å¯¹åº”ã€‚</p>
<ul>
<li><p>å®¢æˆ·ç«¯ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(socket.getInputStream());</span><br><span class="line">ObjectOutputStream oos = <span class="keyword">new</span> ObjectOutputStream(socket.getOutputStream());</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç›¸åº”çš„ï¼ŒæœåŠ¡å™¨ç«¯çš„é¡ºåºåº”è¯¥ä¸ºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ObjectOutputStream oos = <span class="keyword">new</span> ObjectOutputStream(socket.getOutputStream());</span><br><span class="line">ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(socket.getInputStream());</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>å¦‚ä½•åˆ¤æ–­ObjectInputStreamç±»ä¸­readObject()æ–¹æ³•æ˜¯å¦åˆ°è¾¾æœ«å°¾:</p>
<ul>
<li><p>readObject()æ–¹æ³•è¯»å–æ•°æ®æµåˆ°æœ«å°¾æ—¶ä¼šæŠ›å‡º<code>java.io.EOFException</code>å¼‚å¸¸ï¼Œå¯ä»¥æ•è·åˆ°è¿™ä¸ªå¼‚å¸¸å¹¶ç”±æ­¤åˆ¤æ–­å¯¹è±¡æ•°æ®è¯»å–å®Œæˆã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">"Address.dat"</span>);</span><br><span class="line">        <span class="keyword">if</span> (!file.exists()) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ObjectInputStream InFromFile = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(file));</span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            lists.add(InFromFile.readObject());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (EOFException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">        jTextArea.append(<span class="string">"Data read completed!"</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯ä»¥åœ¨æ•°æ®æµä¸­æ·»åŠ æ ‡è¯†ï¼Œå½“è¯»å–åˆ°æ ‡è¯†åï¼Œåˆ™å…³é—­è¾“å‡ºæµã€‚ä¾‹å¦‚ï¼šå¯ä»¥åœ¨å†™å…¥æ•°æ®å®Œæˆåé™„åŠ <code>null</code>ä½œä¸ºæ ‡è¯†ã€‚</p>
</li>
</ul>
</li>
<li>å¼‚å¸¸<code>java.io.StreamCorruptedException: invalid type code: AC</code>çš„å‡ºç°åŸå› åŠè§£å†³æ–¹æ¡ˆ<ul>
<li>åŸå› ï¼šæ–°å»ºä¸€ä¸ªObjecOutputStreamç±»åï¼Œåœ¨ç¬¬ä¸€æ¬¡å†™å…¥æ—¶ï¼Œä¼šé™„åŠ ä¸€ä¸ªå¤´æ–‡ä»¶ä¿¡æ¯ï¼Œéšåçš„æ•°æ®ä¸ä¼šé™„åŠ å¤´æ–‡ä»¶ã€‚æ–°å»ºä¸€ä¸ªObjectInputStreamï¼Œåœ¨ç¬¬ä¸€æ¬¡è¯»å–æ—¶ä¼šå¯»æ‰¾å¤´æ–‡ä»¶ï¼Œä¹‹åè¯»å–æ—¶å°±ä¸ä¼šå¯»æ‰¾å¤´æ–‡ä»¶ç›´æ¥è¯»å–æ•°æ®ã€‚å¦‚æœå†™å…¥æ•°æ®æ—¶æ¯æ¬¡éƒ½é™„åŠ å¤´æ–‡ä»¶ï¼Œè€Œè¯»å–æ—¶ä»…ç¬¬ä¸€æ¬¡è¯»å–å¤´æ–‡ä»¶ï¼Œå°±ä¼šæŠ›å‡ºä¸Šè¿°å¼‚å¸¸ã€‚</li>
<li>è§£å†³æ–¹æ¡ˆï¼šå†™æ–‡ä»¶å’Œè¯»æ–‡ä»¶è¦ç»Ÿä¸€ï¼Œå†™æ–‡ä»¶æ—¶ä¸èƒ½æ¯æ¬¡éƒ½é™„å¸¦å¤´æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯ç”¨ä¸€ä¸ªè¾“å‡ºæµå†™æ•°æ®ï¼Œä¸è¦æ¯æ¬¡å†™å…¥å¯¹è±¡éƒ½æ–°å»ºä¸€ä¸ªè¾“å‡ºæµã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<div align="center" style="color:red;width=80px;height:90px;" onmouseout="this.style.border='1px solid blue'" onmouseover="this.style.border='none'"><br><p style="font-weight:bold;font-style:italic;">æœ¬æ–‡ç« é¦–å‘<a href="http://www.whtis.com">www.whtis.com</a>ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„</p><br></div>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/04/10/javaå­¦ä¹ æ€»ç»“-ç¬¬åä¹ç« -å¤šçº¿ç¨‹/" itemprop="url">
                  javaå­¦ä¹ æ€»ç»“-ç¬¬åä¹ç«  å¤šçº¿ç¨‹
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-04-10T23:17:34+08:00" content="2016-04-10">
              2016-04-10
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/04/10/javaå­¦ä¹ æ€»ç»“-ç¬¬åä¹ç« -å¤šçº¿ç¨‹/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/04/10/javaå­¦ä¹ æ€»ç»“-ç¬¬åä¹ç« -å¤šçº¿ç¨‹/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong> æœ¬æ–‡æ€»ç»“æºè‡ªã€ŠJavaè¯­è¨€ç¨‹åºè®¾è®¡ã€‹åŸä¹¦ç¬¬äº”ç‰ˆï¼Œä½œè€…ä¸ºY.daniel Liangï¼Œä¹ é¢˜åŠç¼–ç¨‹ç»ƒä¹ å‡å‚ç…§æ­¤ä¹¦ã€‚</strong></p>
<hr>
<h2 id="ä¸»è¦å†…å®¹">ä¸»è¦å†…å®¹</h2><p>Javaæ”¯æŒ<code>å¤šçº¿ç¨‹ï¼ˆmultithreadingï¼‰</code>ã€‚å¤šçº¿ç¨‹æ˜¯æŒ‡åœ¨ä¸€ä¸ªç¨‹åºä¸­å…è®¸åŒæ—¶è¿è¡Œå¤šä¸ªä»»åŠ¡çš„èƒ½åŠ›ã€‚</p>
<h3 id="çº¿ç¨‹çš„æ¦‚å¿µ">çº¿ç¨‹çš„æ¦‚å¿µ</h3><ul>
<li><code>ä¸€ä¸ªçº¿ç¨‹ï¼ˆthreadï¼‰</code>æ˜¯æŒ‡ç¨‹åºä¸­å®Œæˆä¸€ä¸ªä»»åŠ¡çš„æœ‰å§‹æœ‰ç»ˆçš„æ‰§è¡Œæµã€‚ä½¿ç”¨Javaï¼Œå¯ä»¥åœ¨ä¸€ä¸ªç¨‹åºä¸­å¹¶å‘çš„è¿è¡Œå¤šä¸ªçº¿ç¨‹ã€‚</li>
<li>å¤šçº¿ç¨‹å¯ä»¥ä½¿ç¨‹åºååº”æ›´å¿«ï¼Œäº¤äº’æ€§æ›´å¼ºï¼Œæ‰§è¡Œæ•ˆç‡æ›´é«˜ã€‚</li>
<li>Javaå¯¹å¤šçº¿ç¨‹ç¨‹åºçš„å¼€å‘å’Œè¿è¡Œæä¾›äº†éå¸¸å¥½çš„æ”¯æŒï¼ŒåŒ…æ‹¬é”å®šèµ„æºä»¥é¿å…å†²çªã€‚</li>
<li>æ¯ä¸ªæ–°çº¿ç¨‹éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒçš„ç±»å®ç°<code>Runnable</code>æ¥å£æˆ–è€…æ‰©å±•å®ç°äº†<code>Runnable</code>æ¥å£ï¼Œè¿™ç§æ–°å¯¹è±¡ç§°ä¸º<code>å¯è¿è¡Œå¯¹è±¡ï¼ˆrunnable objectï¼‰</code>ã€‚</li>
</ul>
<h3 id="åˆ›å»ºçº¿ç¨‹çš„ä¸¤ç§æ–¹å¼">åˆ›å»ºçº¿ç¨‹çš„ä¸¤ç§æ–¹å¼</h3><h4 id="æ‰©å±•Threadç±»åˆ›å»ºçº¿ç¨‹">æ‰©å±•Threadç±»åˆ›å»ºçº¿ç¨‹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExampleThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">	<span class="annotation">@override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="comment">//do something</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="å®ç°runnableæ¥å£åˆ›å»ºçº¿ç¨‹">å®ç°runnableæ¥å£åˆ›å»ºçº¿ç¨‹</h4><ul>
<li><p>å®ç°æ¥å£ï¼š</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RunnThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">	<span class="annotation">@override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> run &#123;</span><br><span class="line">		<span class="comment">//do something</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ›å»ºçº¿ç¨‹ï¼š</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Thread t = <span class="keyword">new</span> Thread(<span class="keyword">new</span> RunnThread());</span><br><span class="line">t.start();</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœç”¨æˆ·çº¿ç¨‹è¦å®ç°å¤šç»§æ‰¿ï¼Œåº”è¯¥é€‰æ‹©å®ç°Runnableæ¥å£è¿™ç§æ–¹å¼ã€‚</p>
</li>
</ul>
<h3 id="çº¿ç¨‹çš„æ§åˆ¶ä¸é€šä¿¡">çº¿ç¨‹çš„æ§åˆ¶ä¸é€šä¿¡</h3><ul>
<li>Threadç±»ä¸­æä¾›çš„æ§åˆ¶çº¿ç¨‹çš„æ–¹æ³•ï¼š<ul>
<li>start()</li>
<li>interrupt()  ä¸­æ–­è¯¥çº¿ç¨‹ã€‚å¦‚æœè¯¥çº¿ç¨‹å¤„äºé˜»å¡çŠ¶æ€ï¼Œå®ƒå°±è¿›å…¥é‡æ–°è¿è¡Œçš„å°±ç»ªçŠ¶æ€</li>
<li>isAlive()  è¯¥æ–¹æ³•åˆ¤æ–­çº¿ç¨‹æ˜¯å¦æ­£å¤„äºè¿è¡ŒçŠ¶æ€</li>
<li>setPriority(int p)</li>
<li>join()  ç­‰å¾…è¯¥çº¿ç¨‹ç»“æŸ</li>
<li>sleep(long millis)  </li>
<li>yield()  è®©è¯¥çº¿ç¨‹æš‚åœæ‰§è¡Œï¼Œå…è®¸å…¶ä»–çº¿ç¨‹å¼€å§‹è¿è¡Œ</li>
<li>isinterrupted()</li>
<li>currentThread()  è¿”å›å½“å‰æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹å¯¹è±¡çš„å¼•ç”¨<br><strong>Threadç±»è¿˜åŒ…å«stop()ã€suspend()å’Œresume()ã€‚ä½†æ˜¯è¿™äº›çº¿ç¨‹å…·æœ‰å†…åœ¨çš„ä¸å®‰å…¨å› ç´ ï¼Œå› æ­¤ä¸å»ºè®®ä½¿ç”¨ã€‚è¦æ›¿ä»£stop()æ–¹æ³•ï¼Œå¯ä»¥ç»™çº¿ç¨‹å˜é‡èµ‹å€¼ä¸ºnullï¼ŒæŒ‡æ˜è¦åœæ­¢å®ƒçš„è¿è¡Œã€‚</strong></li>
</ul>
</li>
<li>æ–¹æ³•wait()ã€notify()ã€notifyAll()å®šä¹‰åœ¨Objectç±»ä¸­ï¼Œä¹Ÿå¯ä»¥ç”¨äºä¿ƒè¿›æ´»åŠ¨çº¿ç¨‹ä¹‹é—´çš„é€šä¿¡ã€‚<ul>
<li>wait()  è¯¥æ–¹æ³•å¼ºè¿«çº¿ç¨‹ç­‰å¾…ï¼Œç›´åˆ°å¯¹è°ƒç”¨waitæ–¹æ³•çš„å¯¹è±¡è°ƒç”¨notifyæˆ–notifyAllæ–¹æ³•ã€‚</li>
</ul>
</li>
</ul>
<h4 id="çº¿ç¨‹çš„çŠ¶æ€">çº¿ç¨‹çš„çŠ¶æ€</h4><ul>
<li>çº¿ç¨‹æœ‰äº”ç§çŠ¶æ€ï¼šæ–°å»ºã€å°±ç»ªã€è¿è¡Œã€é˜»å¡æˆ–ç»“æŸã€‚<br><img src="çº¿ç¨‹çš„çŠ¶æ€.jpg" alt="çº¿ç¨‹çš„çŠ¶æ€"></li>
<li>æœ‰å‡ ç§åŸå› ä¼šä½¿çº¿ç¨‹è¿›å…¥<code>é˜»å¡çŠ¶æ€ï¼ˆBlocked stateï¼‰</code>ï¼š<ul>
<li>å¯èƒ½æ˜¯å®ƒè‡ªå·±è°ƒç”¨äº†join()ã€sleep()æˆ–wait()æ–¹æ³•</li>
<li>å¯èƒ½æ˜¯å…¶ä»–æ–¹æ³•è°ƒç”¨äº†å¦‚ä¸Šæ–¹æ³•</li>
<li>å¯èƒ½æ˜¯è¯¥çº¿ç¨‹åœ¨ç­‰å¾…ä¸€ä¸ªI/Oæ“ä½œçš„å®Œæˆ</li>
</ul>
</li>
<li>æ–¹æ³•interruptæŒ‰ä¸‹åˆ—æ–¹å¼ä¸­æ–­ä¸€ä¸ªçº¿ç¨‹ï¼šå½“çº¿ç¨‹å¤„äºå°±ç»ªçŠ¶æ€æˆ–è¿è¡ŒçŠ¶æ€æ—¶ï¼Œç»™å®ƒè®¾ç½®ä¸€ä¸ªä¸­æ–­æ ‡å¿—ï¼›å½“çº¿ç¨‹å¤„äºé˜»å¡çŠ¶æ€æ—¶ï¼Œå®ƒå°†ä¼šè¢«å”¤é†’å¹¶è¿›å…¥å°±ç»ªçŠ¶æ€ï¼ŒåŒæ—¶æŠ›å‡ºå¼‚å¸¸java.lang.InterruptedExceptionã€‚å³ï¼š<strong>ä¸­æ–­ä¸ä»…æ‰“æ–­æ‰§è¡Œè¿‡ç¨‹ï¼Œä¹Ÿå¯ä»¥æ‰“æ–­ä¸æ‰§è¡Œè¿‡ç¨‹ã€‚</strong></li>
</ul>
<h4 id="çº¿ç¨‹çš„ä¼˜å…ˆçº§">çº¿ç¨‹çš„ä¼˜å…ˆçº§</h4><ul>
<li>Javaç»™æ¯ä¸ªçº¿ç¨‹æŒ‡å®šä¸€ä¸ªä¼˜å…ˆçº§ã€‚</li>
<li>Threadç±»æœ‰intå‹å¸¸é‡MIN_PRIOTITYã€NORM_PRIORITYå’ŒMAX_PRIORITYï¼Œåˆ†åˆ«ä»£è¡¨1ã€5ã€10ã€ä¸»çº¿ç¨‹çš„ä¼˜å…ˆçº§æ˜¯Thread.NORM_PRIORITYã€‚<br><strong>å¦‚æœæ€»æœ‰ä¸€ä¸ªä¼˜å…ˆçº§è¾ƒé«˜çš„çº¿ç¨‹åœ¨è¿è¡Œï¼Œæˆ–è€…æœ‰ä¸€ä¸ªç›¸åŒä¼˜å…ˆçº§çš„çº¿ç¨‹ä¸é€€å‡ºï¼Œé‚£ä¹ˆä¸€ä¸ªçº¿ç¨‹å¯èƒ½æ°¸è¿œä¹Ÿæ²¡æœ‰è¿è¡Œçš„æœºä¼šã€‚è¿™ç§æƒ…å†µç§°ä¸º<code>ç«äº‰ï¼ˆcontentionï¼‰</code>æˆ–<code>èµ„æºç¼ºä¹ï¼ˆstarvationï¼‰</code>çŠ¶æ€ã€‚</strong></li>
</ul>
<h3 id="çº¿ç¨‹ç»„">çº¿ç¨‹ç»„</h3><ul>
<li>ä¸€ä¸ª<code>çº¿ç¨‹ç»„ï¼ˆthread groupï¼‰</code>æ˜¯çº¿ç¨‹çš„ä¸€ä¸ªé›†åˆã€‚å¯ä»¥åŒæ—¶å¯¹ä¸€ä¸ªçº¿ç¨‹ç»„è¿›è¡Œå”¤é†’å’ŒæŒ‚èµ·æ“ä½œã€‚</li>
<li>å¯ä»¥æŠŠä¸€ä¸ªçº¿ç¨‹ç»„æ·»åŠ åˆ°å¦ä¸€ä¸ªçº¿ç¨‹ç»„ï¼Œæ„æˆä¸€ä¸ªæ ‘å½¢ç»“æ„ï¼Œé™¤äº†èµ·å§‹ç»„ä»¥å¤–ï¼Œæ ‘ä¸­çš„æ¯ä¸ªçº¿ç¨‹ç»„éƒ½æœ‰ä¸€ä¸ªçˆ¶çº¿ç¨‹ç»„ã€‚</li>
<li>æ¯ä¸ªçº¿ç¨‹éƒ½å±äºä¸€ä¸ªçº¿ç¨‹ç»„ã€‚</li>
<li>çº¿ç¨‹ç»„çš„åˆ›å»ºï¼š  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ThreadGroup g = <span class="keyword">new</span> ThreadGroup(<span class="string">"thread group"</span>);  <span class="comment">//ç»„åå¿…é¡»æ˜¯å”¯ä¸€çš„å­—ç¬¦ä¸²</span></span><br><span class="line">Thread t = <span class="keyword">new</span> Thread(g,<span class="keyword">new</span> ThreadClass(),<span class="string">"label for the thread"</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>çº¿ç¨‹ç»„é‡Œçš„çº¿ç¨‹å¿…é¡»åˆ†åˆ«å¯åŠ¨</strong></p>
<h3 id="çº¿ç¨‹ä¹‹é—´çš„åŒæ­¥ä¸åä½œ">çº¿ç¨‹ä¹‹é—´çš„åŒæ­¥ä¸åä½œ</h3><p>å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®ä¸€ä¸ªå…±äº«èµ„æºä¼šå¼•èµ·<code>èµ„æºå†²çªï¼ˆrace conditionï¼‰</code>ã€‚å¦‚æœä¸€ä¸ªç±»çš„å¯¹è±¡åœ¨å¤šçº¿ç¨‹ç¨‹åºä¸­æ²¡æœ‰å¼•èµ·èµ„æºå†²çªï¼Œåˆ™ç§°è¿™æ ·çš„ç±»ä¸º<code>çº¿ç¨‹å®‰å…¨çš„ï¼ˆthread-safeï¼‰</code>ã€‚</p>
<h4 id="åŒæ­¥åŒ–å®ä¾‹ä¸é™æ€æ–¹æ³•">åŒæ­¥åŒ–å®ä¾‹ä¸é™æ€æ–¹æ³•</h4><ul>
<li>ä¸ºé¿å…èµ„æºå†²çªï¼Œåº”è¯¥é˜²æ­¢å¤šä¸ªçº¿ç¨‹åŒæ—¶è¿›å…¥ç¨‹åºçš„æŸä¸€ç‰¹å®šéƒ¨åˆ†ï¼Œç¨‹åºä¸­è¿™æ ·çš„éƒ¨åˆ†ç§°ä¸º<code>ä¸´ç•ŒåŒºï¼ˆcritical regionï¼‰</code>ã€‚</li>
<li>å¯ä»¥ä½¿ç”¨å…³é”®å­—<code>Synchronized</code>æ¥ä½¿æ–¹æ³•çš„é€šä¿¡åŒæ­¥ï¼Œä»¥ä¾¿ä¸€æ¬¡åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥è®¿é—®è¯¥æ–¹æ³•ã€‚</li>
<li>ä¸€ä¸ªåŒæ­¥æ–¹æ³•åœ¨æ‰§è¡Œå‰éœ€è¦åŠ é”ï¼šå¯¹äºå®ä¾‹æ–¹æ³•ï¼Œè¦ç»™è°ƒç”¨è¯¥æ–¹æ³•çš„å¯¹è±¡åŠ é”ï¼›å¯¹äºé™æ€æ–¹æ³•ï¼Œè¦ç»™è¿™ä¸ªç±»åŠ é”ã€‚</li>
</ul>
<h4 id="åŒæ­¥è¯­å¥">åŒæ­¥è¯­å¥</h4><ul>
<li><p>å½“æ‰§è¡Œæ–¹æ³•ä¸­æŸä¸€ä¸ªä»£ç å—ï¼ˆä¹Ÿæˆä¸ºä½“ï¼‰æ—¶ï¼ŒåŒæ­¥è¯­å¥ä¸ä»…ä»…å¯ä»¥ç”¨äºè·å‡†ç»™è¯¥å¯¹è±¡åŠ é”ï¼Œè€Œä¸”å¯ä»¥ç”¨äºè¦æ±‚å¯¹ä»»ä½•å¯¹è±¡åŠ é”ã€‚è¿™ä¸ªä»£ç å—ç§°ä¸º<code>åŒæ­¥å—ï¼ˆsynchronized blockï¼‰</code>ã€‚</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">synchronized</span> (expr) &#123;  <span class="comment">//è¡¨è¾¾å¼exprå¿…é¡»èƒ½æ±‚å‡ºå¯¹è±¡çš„å¼•ç”¨</span></span><br><span class="line">	è¯­å¥ç»„ï¼›</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åŒæ­¥è¯­å¥å…è®¸å¯¹ä»»ä½•å¯¹è±¡åŠ é”ï¼Œæ‰€ä»¥å¯ä»¥åŒæ­¥åœ°è®¿é—®ä¸€ä¸ªå¯¹è±¡è€Œä¸ä»…ä»…æ˜¯ä¸€ä¸ªæ–¹æ³•ã€‚</p>
</li>
<li><p>ä»»ä½•åŒæ­¥çš„å®ä¾‹æ–¹æ³•éƒ½å¯ä»¥è½¬åŒ–ä¸ºåŒæ­¥è¯­å¥ã€‚</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">xMethod</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="comment">//æ–¹æ³•ä½“</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç ç­‰ä»·äºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">xMethod</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">synchronized</span> (<span class="keyword">this</span>) &#123;</span><br><span class="line">		<span class="comment">//æ–¹æ³•ä½“</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="çº¿ç¨‹ä¹‹é—´çš„åä½œ">çº¿ç¨‹ä¹‹é—´çš„åä½œ</h4><ul>
<li>é€šè¿‡åœ¨ä¸´ç•ŒåŒºä¸Šå¤šä¸ªçº¿ç¨‹çš„ç›¸äº’æ’æ–¥ï¼Œçº¿ç¨‹åŒæ­¥å®Œå…¨å¯ä»¥é¿å…èµ„æºå†²çªçš„å‘ç”Ÿï¼Œä½†æ˜¯æœ‰æ—¶å€™æˆ‘ä»¬è¿˜éœ€è¦çº¿ç¨‹ä¹‹é—´çš„ç›¸äº’åä½œã€‚</li>
<li>waitã€notifyå’ŒnotifyAllæ–¹æ³•å¯ä»¥ç”¨æ¥å®ç°çº¿ç¨‹ä¹‹é—´çš„ç›¸äº’é€šä¿¡ã€‚è¿™äº›æ–¹æ³•å¿…é¡»åœ¨åŒæ­¥æ–¹æ³•ä¸­è°ƒç”¨ï¼Œæˆ–è€…åœ¨æ¥å—è¿™äº›æ–¹æ³•çš„å¯¹è±¡çš„åŒæ­¥å—ä¸­è°ƒç”¨ï¼›å¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸<code>IllegalMonitorStateException</code>ã€‚</li>
</ul>
<h4 id="æ­»é”">æ­»é”</h4><ul>
<li>ä½¿ç”¨ä¸€ç§åä¸º<code>èµ„æºæ’åºï¼ˆresource orderingï¼‰</code>çš„ç®€å•æŠ€æœ¯å¯ä»¥è½»æ˜“çš„é¿å…æ­»é”çš„å‘ç”Ÿã€‚è¯¥æŠ€æœ¯æ˜¯ç»™æ¯ä¸€ä¸ªéœ€è¦é”å®šçš„å¯¹è±¡å®šä¹‰ä¸€ä¸ªé¡ºåºï¼Œç¡®ä¿æ¯ä¸ªçº¿ç¨‹éƒ½æŒ‰è¿™ä¸ªé¡ºåºæ¥é”å®šå¯¹è±¡ã€‚</li>
</ul>
<h3 id="è¿›ç¨‹æ¡JProcessBar">è¿›ç¨‹æ¡JProcessBar</h3><ul>
<li>è¿›ç¨‹æ¡JProcessBaræ˜¯ä¸€ä¸ªå›¾å½¢ç»„ä»¶ï¼Œç”¨æ¥ä»¥å›¾ç¤ºçš„æ–¹å¼æ˜¾ç¤ºæœ‰ç•ŒåŒºé—´å†…çš„ä¸€ä¸ªå€¼ã€‚</li>
<li>è¿›ç¨‹æ¡çš„å¸¸ç”¨å±æ€§æœ‰orientationã€minimumã€valueå’Œmaximumç­‰ã€‚</li>
</ul>
<hr>
<h2 id="å¤ä¹ å°ç»“">å¤ä¹ å°ç»“</h2><ul>
<li>çº¿ç¨‹å¯¹è±¡ä»æ¥ä¸ä¼šç›´æ¥å¼•ç”¨runæ–¹æ³•ï¼Œåˆ°äº†æ‰§è¡ŒæŸä¸ªçº¿ç¨‹çš„æ—¶å€™ï¼ŒJavaè™šæ‹Ÿæœºè°ƒç”¨è¯¥çº¿ç¨‹çš„runæ–¹æ³•ã€‚</li>
</ul>
<hr>
<h2 id="ç¼–ç¨‹ç»ƒä¹ ">ç¼–ç¨‹ç»ƒä¹ </h2><ul>
<li><p>ä¹ é¢˜19.2 19.3 19.4 19.6 19.7 19.8 19.9 19.11æºä»£ç è§æˆ‘çš„Githubï¼š <a href="https://github.com/whtis/Java-Exercises/tree/master/chapter19/src" target="_blank" rel="external">chapter19</a></p>
</li>
<li><p>ä¹ é¢˜19.7è¦æ±‚ä½¿ç”¨åŒæ­¥é›†åˆè§£å†³ä¹ é¢˜19.6å¤šçº¿ç¨‹å‡ºç°å¼‚å¸¸java.util.ConcurrentModificationExceptionçš„é—®é¢˜ã€‚å½“å®Œæˆè¿™ä¸ªé¢˜å¹¶ä¸”å¤šæ¬¡æ‰§è¡Œæ—¶ï¼Œä¼šå‡ºç°ä¸‹é¢è¿™ä¸ªé—®é¢˜ï¼Œæš‚æ—¶ä¸çŸ¥é“æ˜¯å¦æ˜¯é”™è¯¯ï¼š<br>å‘è§„åˆ™é›†æ·»åŠ æ•°å­—æ—¶ä½¿ç”¨å¦‚ä¸‹è¯­å¥ï¼š</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hashSet.add(((<span class="keyword">int</span>) (Math.random() * <span class="number">10</span>)) + <span class="number">1</span>);</span><br></pre></td></tr></table></figure>
<p>  æ§åˆ¶å°è¾“å‡ºä¸ºä»¥ä¸‹ç»“æœï¼š</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">Thread-<span class="number">0</span></span><br><span class="line">Thread-<span class="number">1</span></span><br><span class="line"><span class="number">7</span></span><br><span class="line">Thread-<span class="number">0</span></span><br><span class="line">Thread-<span class="number">1</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">7</span></span><br><span class="line">Thread-<span class="number">0</span></span><br><span class="line">Thread-<span class="number">1</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">7</span></span><br><span class="line">Thread-<span class="number">0</span></span><br><span class="line">Thread-<span class="number">1</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">8</span></span><br><span class="line">Thread-<span class="number">0</span></span><br><span class="line">Thread-<span class="number">1</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">8</span></span><br><span class="line">Thread-<span class="number">0</span></span><br><span class="line">Thread-<span class="number">1</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">8</span></span><br><span class="line">Thread-<span class="number">0</span></span><br><span class="line">Thread-<span class="number">1</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œéšæœºæ•°åœ¨è§„åˆ™é›†å†…è¢«é‡æ–°æ’åºäº†ï¼Œå¹¶ä¸”åœ¨ä½¿ç”¨è¿­ä»£ç®—å­éå†æ—¶è¢«æ‰“å°åˆ°æ§åˆ¶å°ã€‚æ’åºçš„åŸå› çŒœæµ‹æ˜¯åŒæ­¥è§„åˆ™é›†çš„æ–¹æ³•å¯¼è‡´çš„ï¼š</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Collections.synchronizedSet(hashSet);</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¹ é¢˜19.9è¦æ±‚å†™ä¸€ä¸ªæ­»é”ç¨‹åºï¼Œå½¢æˆæ­»é”çš„æ¡ä»¶å¦‚ä¸‹ï¼š</p>
<ul>
<li><blockquote>
<p>äº’æ–¥æ¡ä»¶ã€‚å³æŸä¸ªèµ„æºåœ¨ä¸€æ®µæ—¶é—´å†…åªèƒ½ç”±ä¸€ä¸ªè¿›ç¨‹å æœ‰ï¼Œä¸èƒ½åŒæ—¶è¢«ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„è¿›ç¨‹å æœ‰ã€‚è¿™ç§ç‹¬å èµ„æºå¦‚CD-ROMé©±åŠ¨å™¨ï¼Œæ‰“å°æœºç­‰ç­‰ï¼Œå¿…é¡»åœ¨å æœ‰è¯¥èµ„æºçš„è¿›ç¨‹ä¸»åŠ¨é‡Šæ”¾å®ƒä¹‹åï¼Œå…¶å®ƒè¿›ç¨‹æ‰èƒ½å æœ‰è¯¥èµ„æºã€‚è¿™æ˜¯ç”±èµ„æºæœ¬èº«çš„å±æ€§æ‰€å†³å®šçš„ã€‚å¦‚ç‹¬æœ¨æ¡¥å°±æ˜¯ä¸€ç§ç‹¬å èµ„æºï¼Œä¸¤æ–¹çš„äººä¸èƒ½åŒæ—¶è¿‡æ¡¥ã€‚</p>
</blockquote>
</li>
<li><blockquote>
<p>ä¸å¯æŠ¢å æ¡ä»¶ã€‚è¿›ç¨‹æ‰€è·å¾—çš„èµ„æºåœ¨æœªä½¿ç”¨å®Œæ¯•ä¹‹å‰ï¼Œèµ„æºç”³è¯·è€…ä¸èƒ½å¼ºè¡Œåœ°ä»èµ„æºå æœ‰è€…æ‰‹ä¸­å¤ºå–èµ„æºï¼Œè€Œåªèƒ½ç”±è¯¥èµ„æºçš„å æœ‰è€…è¿›ç¨‹è‡ªè¡Œé‡Šæ”¾ã€‚å¦‚è¿‡ç‹¬æœ¨æ¡¥çš„äººä¸èƒ½å¼ºè¿«å¯¹æ–¹åé€€ï¼Œä¹Ÿä¸èƒ½éæ³•åœ°å°†å¯¹æ–¹æ¨ä¸‹æ¡¥ï¼Œå¿…é¡»æ˜¯æ¡¥ä¸Šçš„äººè‡ªå·±è¿‡æ¡¥åç©ºå‡ºæ¡¥é¢ï¼ˆå³ä¸»åŠ¨é‡Šæ”¾å æœ‰èµ„æºï¼‰ï¼Œå¯¹æ–¹çš„äººæ‰èƒ½è¿‡æ¡¥ã€‚</p>
</blockquote>
</li>
<li><blockquote>
<p>å æœ‰ä¸”ç”³è¯·æ¡ä»¶ã€‚è¿›ç¨‹è‡³å°‘å·²ç»å æœ‰ä¸€ä¸ªèµ„æºï¼Œä½†åˆç”³è¯·æ–°çš„èµ„æºï¼›ç”±äºè¯¥èµ„æºå·²è¢«å¦å¤–è¿›ç¨‹å æœ‰ï¼Œæ­¤æ—¶è¯¥è¿›ç¨‹é˜»å¡ï¼›ä½†æ˜¯ï¼Œå®ƒåœ¨ç­‰å¾…æ–°èµ„æºä¹‹æ—¶ï¼Œä»ç»§ç»­å ç”¨å·²å æœ‰çš„èµ„æºã€‚è¿˜ä»¥è¿‡ç‹¬æœ¨æ¡¥ä¸ºä¾‹ï¼Œç”²ä¹™ä¸¤äººåœ¨æ¡¥ä¸Šç›¸é‡ã€‚ç”²èµ°è¿‡ä¸€æ®µæ¡¥é¢ï¼ˆå³å æœ‰äº†ä¸€äº›èµ„æºï¼‰ï¼Œè¿˜éœ€è¦èµ°å…¶ä½™çš„æ¡¥é¢ï¼ˆç”³è¯·æ–°çš„èµ„æºï¼‰ï¼Œä½†é‚£éƒ¨åˆ†æ¡¥é¢è¢«ä¹™å æœ‰ï¼ˆä¹™èµ°è¿‡ä¸€æ®µæ¡¥é¢ï¼‰ã€‚ç”²è¿‡ä¸å»ï¼Œå‰è¿›ä¸èƒ½ï¼Œåˆä¸åé€€ï¼›ä¹™ä¹Ÿå¤„äºåŒæ ·çš„çŠ¶å†µã€‚</p>
</blockquote>
</li>
<li><blockquote>
<p>å¾ªç¯ç­‰å¾…æ¡ä»¶ã€‚å­˜åœ¨ä¸€ä¸ªè¿›ç¨‹ç­‰å¾…åºåˆ—{P1ï¼ŒP2ï¼Œâ€¦ï¼ŒPn}ï¼Œå…¶ä¸­P1ç­‰å¾…P2æ‰€å æœ‰çš„æŸä¸€èµ„æºï¼ŒP2ç­‰å¾…P3æ‰€å æœ‰çš„æŸä¸€æºï¼Œâ€¦â€¦ï¼Œè€ŒPnç­‰å¾…P1æ‰€å æœ‰çš„çš„æŸä¸€èµ„æºï¼Œå½¢æˆä¸€ä¸ªè¿›ç¨‹å¾ªç¯ç­‰å¾…ç¯ã€‚å°±åƒå‰é¢çš„è¿‡ç‹¬æœ¨æ¡¥é—®é¢˜ï¼Œç”²ç­‰å¾…ä¹™å æœ‰çš„æ¡¥é¢ï¼Œè€Œä¹™åˆç­‰å¾…ç”²å æœ‰çš„æ¡¥é¢ï¼Œä»è€Œå½¼æ­¤å¾ªç¯ç­‰å¾…ã€‚</p>
</blockquote>
</li>
</ul>
<p>æ ¹æ®è¿™ä¸ªåŸåˆ™ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> $19<span class="title">_9</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">      DeadThread t1 = <span class="keyword">new</span> DeadThread();</span><br><span class="line">      DeadThread t2 = <span class="keyword">new</span> DeadThread();</span><br><span class="line">      t1.flag = <span class="number">0</span>;</span><br><span class="line">      t2.flag = <span class="number">1</span>;</span><br><span class="line">      t1.start();</span><br><span class="line">      t2.start();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span><br><span class="line">  * çº¿ç¨‹1é”å®šo1åä¼‘çœ 1sï¼Œä½¿å¾—æœ‰æœºä¼šæ‰§è¡Œçº¿ç¨‹2ï¼Œçº¿ç¨‹2é”å®šo2åï¼Œç­‰å¾…çº¿ç¨‹1é‡Šæ”¾o1ï¼Œçº¿ç¨‹1æ­¤æ—¶é”å®šäº†o1ï¼Œç­‰å¾…çº¿ç¨‹2</span><br><span class="line">  * é‡Šæ”¾o2ï¼Œå½¢æˆæ­»é”ã€‚</span><br><span class="line">  *</span><br><span class="line">*/</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DeadThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> Object o1 = <span class="keyword">new</span> Object(), o2 = <span class="keyword">new</span> Object();</span><br><span class="line"></span><br><span class="line">  <span class="annotation">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (flag==<span class="number">0</span>) &#123;</span><br><span class="line">          System.out.println(<span class="string">"flag="</span> + flag);</span><br><span class="line">          <span class="keyword">synchronized</span> (o1) &#123;</span><br><span class="line">              <span class="keyword">try</span> &#123;</span><br><span class="line">                  Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">              &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                  e.printStackTrace();</span><br><span class="line">              &#125;</span><br><span class="line">              <span class="keyword">synchronized</span> (o2) &#123;</span><br><span class="line">                  System.out.println(<span class="string">"o2 locked"</span>);</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (flag==<span class="number">1</span>) &#123;</span><br><span class="line">          System.out.println(<span class="string">"flag="</span> + flag);</span><br><span class="line">          <span class="keyword">synchronized</span> (o2) &#123;</span><br><span class="line">              <span class="keyword">try</span> &#123;</span><br><span class="line">                  Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">              &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                  e.printStackTrace();</span><br><span class="line">              &#125;</span><br><span class="line">              <span class="keyword">synchronized</span> (o1) &#123;</span><br><span class="line">                  System.out.println(<span class="string">"o2 locked"</span>);</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<div align="center" style="color:red;width=80px;height:90px;" onmouseout="this.style.border='1px solid blue'" onmouseover="this.style.border='none'"><br><p style="font-weight:bold;font-style:italic;">æœ¬æ–‡ç« é¦–å‘<a href="http://www.whtis.com">www.whtis.com</a>ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„</p><br></div>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/04/01/Javaå­¦ä¹ æ€»ç»“-ç¬¬åå…«ç« -Javaé›†åˆæ¶æ„/" itemprop="url">
                  Javaå­¦ä¹ æ€»ç»“-ç¬¬åå…«ç«  Javaé›†åˆæ¶æ„
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-04-01T11:41:32+08:00" content="2016-04-01">
              2016-04-01
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/04/01/Javaå­¦ä¹ æ€»ç»“-ç¬¬åå…«ç« -Javaé›†åˆæ¶æ„/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/04/01/Javaå­¦ä¹ æ€»ç»“-ç¬¬åå…«ç« -Javaé›†åˆæ¶æ„/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong> æœ¬æ–‡æ€»ç»“æºè‡ªã€ŠJavaè¯­è¨€ç¨‹åºè®¾è®¡ã€‹åŸä¹¦ç¬¬äº”ç‰ˆï¼Œä½œè€…ä¸ºY.daniel Liangï¼Œä¹ é¢˜åŠç¼–ç¨‹ç»ƒä¹ å‡å‚ç…§æ­¤ä¹¦ã€‚</strong></p>
<hr>
<h2 id="ä¸»è¦å†…å®¹">ä¸»è¦å†…å®¹</h2><p>æ•°ç»„çº¿æ€§è¡¨å’Œé“¾è¡¨æ˜¯Javaä¸­çš„é¢„å®šä¹‰ç»“æ„ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒJavaè¿˜å¼•å…¥äº†å‡ ç§å¯ä»¥æœ‰æ•ˆç»„ç»‡å’Œå¤„ç†æ•°æ®çš„æ¥å£å’Œç±»ï¼Œè¿™äº›æ¥å£å’Œç±»ç»„æˆäº†<code>Javaé›†åˆæ¶æ„ï¼ˆJava Collection Frameworkï¼‰</code>ã€‚<br>ä¸€ä¸ª<code>é›†åˆï¼ˆcollectionï¼‰</code>å°±æ˜¯ä¸€ä¸ªå­˜å‚¨ä¸€ç»„å¯¹è±¡çš„å®¹å™¨ï¼Œä¸€èˆ¬å°†è¿™äº›å¯¹è±¡ç§°ä¸ºé›†åˆçš„<code>å…ƒç´ ï¼ˆelementï¼‰</code>ã€‚Javaé›†åˆæ„æ¶æ”¯æŒä¸‰ç§ç±»å‹çš„é›†åˆï¼š<code>è§„åˆ™é›†ï¼ˆsetï¼‰ã€çº¿æ€§è¡¨ï¼ˆlistï¼‰å’Œå›¾ï¼ˆmapï¼‰</code>ï¼Œå®ƒä»¬åˆ†åˆ«å®šä¹‰åœ¨æ¥å£Setã€Listä¸Mapä¸­ã€‚Setçš„å®ä¾‹å­˜å‚¨ä¸€ç»„äº’ä¸ç›¸åŒçš„å…ƒç´ ï¼ŒListçš„å®ä¾‹å­˜å‚¨ä¸€ç»„é¡ºåºæ’åˆ—çš„å…ƒç´ ï¼ŒMapçš„å®ä¾‹å­˜å‚¨ä¸€ç»„å¯¹è±¡ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå…³è”çš„é”®å€¼ã€‚</p>
<p><img src="Set&amp;Listç±».png" alt="Setå’ŒListæ¥å£æ˜¯Collectionæ¥å£çš„å­æ¥å£"><br><img src="Mapç±».png" alt="Mapçš„å®ä¾‹å­˜å‚¨ä¸€ç»„å¯¹è±¡ä»¥åŠä¸å®ƒä»¬å…³è”çš„é”®å€¼"></p>
<h3 id="Collectionæ¥å£å’ŒAbstractCollectionç±»">Collectionæ¥å£å’ŒAbstractCollectionç±»</h3><ul>
<li>Collectionæ¥å£æ˜¯å¤„ç†å¯¹è±¡é›†åˆçš„æ ¹æ¥å£ã€‚å®ƒçš„æ–¹æ³•è¯¦è§<a href="http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html" target="_blank" rel="external">API</a>ã€‚AbstractCollectionç±»æ˜¯æä¾›å¯¹Collectionæ¥å£éƒ¨åˆ†å®ç°çš„ä¾¿åˆ©ç±»ã€‚é™¤äº†sizeæ–¹æ³•å’Œiteratoræ–¹æ³•ä¹‹å¤–ï¼Œå®ƒå®ç°äº†Collectionæ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•ã€‚</li>
<li>Iteratoræ¥å£æä¾›nextï¼ˆï¼‰æ–¹æ³•ï¼Œå¯ä»¥ä¾æ¬¡è®¿é—®é›†åˆä¸­å­˜å‚¨çš„å…ƒç´ ã€‚<br><strong>Collectionæ¥å£ä¸­æœ‰äº›æ–¹æ³•ä¸èƒ½åœ¨å…·ä½“å­ç±»ä¸­å®ç°ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œè¿™äº›æ–¹æ³•ä¼šæŠ›å‡ºå¼‚å¸¸<code>java.lang.UnsupportedOperationException</code>ï¼Œè¯¥å¼‚å¸¸æ˜¯RuntimeExceptionå¼‚å¸¸çš„ä¸€ä¸ªå­ç±»ã€‚</strong></li>
</ul>
<h3 id="è§„åˆ™é›†Set">è§„åˆ™é›†Set</h3><ul>
<li>Setæ¥å£æ‰©å±•Collectionæ¥å£ï¼Œå®ƒæ²¡æœ‰å¼•å…¥æ–°çš„æ–¹æ³•å’Œå¸¸é‡ï¼Œåªè§„å®šå®ƒçš„å®ä¾‹ä¸èƒ½åŒ…å«ç›¸åŒçš„å…ƒç´ ã€‚</li>
<li>AbstractSetç±»æ˜¯ä¸€ä¸ªä¾¿åˆ©ç±»ï¼Œå®ƒæ‰©å±•äº†AbstractCollectionç±»å¹¶å®ç°äº†Setæ¥å£ã€‚</li>
<li>Setæ¥å£çš„ä¸‰ä¸ªå…·ä½“ç±»æ˜¯HashSetã€LinkedHashSetå’ŒTreeSetã€‚</li>
</ul>
<h4 id="æ•£åˆ—é›†HashSet">æ•£åˆ—é›†HashSet</h4><ul>
<li>HashSetç±»å¯ä»¥ç”¨æ¥å­˜å‚¨äº’ä¸ç›¸åŒçš„ä»»ä½•å…ƒç´ ã€‚è€ƒè™‘æ•ˆç‡çš„å› ç´ ï¼Œæ·»åŠ åˆ°æ•£åˆ—é›†ä¹‹ä¸­çš„å¯¹è±¡å¿…é¡»å®ç°hashCodeæ–¹æ³•ï¼Œé€‚å½“åœ°æ•£åˆ—åˆ†å¸ƒæ•£åˆ—ç ã€‚</li>
<li>ä¸¤ä¸ªä¸ç­‰çš„å¯¹è±¡å¯èƒ½æœ‰ç›¸åŒçš„æ•£åˆ—ç ã€‚</li>
</ul>
<h4 id="é“¾å¼æ•£åˆ—é›†LinkedHashSet">é“¾å¼æ•£åˆ—é›†LinkedHashSet</h4><ul>
<li>åœ¨HashSetä¸­å…ƒç´ æ˜¯æ²¡æœ‰é¡ºåºçš„ï¼Œè€Œåœ¨LinkedHashSetä¸­ï¼Œå¯ä»¥æŒ‰å…ƒç´ æ’å…¥é›†åˆçš„é¡ºåºè¿›è¡Œæå–ã€‚</li>
<li>LinkedHashSetä¸­çš„å…ƒç´ å­˜å‚¨æ—¶ä¿æŒæ’å…¥çš„é¡ºåºï¼Œè¦æƒ³è‡ªå®šä¹‰é¡ºåºï¼Œå¯ä»¥ä½¿ç”¨<code>TreeHashSet</code>ã€‚<br><strong>å¦‚æœä¸éœ€è¦ä½¿å…ƒç´ æŒ‰å…¶æ’å…¥çš„é¡ºåºè¿›è¡Œå­˜å‚¨ï¼Œåº”è¯¥ä½¿ç”¨HashSetï¼Œå®ƒçš„æ•ˆç‡è¦æ¯”LinkedHashSeté«˜ã€‚</strong></li>
</ul>
<h4 id="æ ‘å½¢é›†TreeSet">æ ‘å½¢é›†TreeSet</h4><p>SortSetæ˜¯Setçš„ä¸€ä¸ªå­æ¥å£ï¼Œå®ƒä¿è¯è§„åˆ™é›†ä¸­çš„å…ƒç´ æ˜¯æœ‰åºçš„ã€‚TreeSetæ˜¯å®ç°SortedSetæ¥å£çš„ä¸€ä¸ªå…·ä½“ç±»ã€‚åªæœ‰å½“å¯¹è±¡ä¹‹é—´å¯ä»¥äº’ç›¸æ¯”è¾ƒæ˜¯ï¼Œæ‰å¯ä»¥å°†å®ƒä»¬æ·»åŠ åˆ°æ ‘å½¢é›†TreeSetä¸­ã€‚</p>
<ul>
<li>æœ‰ä¸¤ç§æ–¹æ³•å®ç°å¯¹è±¡çš„æ¯”è¾ƒï¼š<ul>
<li>ä½¿ç”¨Comparableæ¥å£ã€‚å¦‚æœæ·»åŠ åˆ°è§„åˆ™é›†ä¸­çš„å¯¹è±¡æ˜¯Comparableçš„å®ä¾‹ï¼Œå°±å¯ä»¥ä½¿ç”¨compareToæ–¹æ³•æ¥æ¯”è¾ƒã€‚è¿™ç§æ–¹æ³•å®šä¹‰çš„åºé€šå¸¸ç§°ä¸º<code>è‡ªç„¶é¡ºåºï¼ˆnatural orderï¼‰</code>ã€‚<strong>å‚è§ä¹ é¢˜18.7</strong></li>
<li>å¦‚æœè¯¥ç±»ä¸æ”¯æŒComparableæ¥å£ï¼Œæˆ–è€…åœ¨å®ç°Comparableæ¥å£çš„ç±»ä¸­ä¸æƒ³ä½¿ç”¨compareToæ–¹æ³•è¿›è¡Œæ¯”è¾ƒï¼Œå¯ä»¥ç»™è§„åˆ™é›†çš„å…ƒç´ åˆ›å»ºä¸€ä¸ªæ¯”è¾ƒå™¨ã€‚è¿™ç§æ–¹æ³•å®šä¹‰çš„åºç§°ä¸º<code>æ¯”è¾ƒå™¨é¡ºåºï¼ˆorder by comparatorï¼‰</code>ã€‚</li>
</ul>
</li>
<li>åˆ›å»ºæ ‘å½¢é›†çš„å¥½çš„æ–¹æ³•æ˜¯ä½¿ç”¨æ„é€ æ–¹æ³•<code>TreeSet(Collection c)</code>ï¼Œè¿™æ ·åªéœ€è¦å¯¹è§„åˆ™é›†è¿›è¡Œä¸€æ¬¡æ’åºï¼Œæ•ˆç‡è¾ƒé«˜ã€‚<br>**å¦‚æœå‘æ ‘å½¢é›†æ·»åŠ ä¸€ä¸ªä¸é›†åˆä¸­å·²æœ‰å…ƒç´ ä¸å¯æ¯”çš„å¯¹è±¡ï¼Œå°†ä¼šå‘ç”Ÿè¿è¡Œé”™è¯¯<code>ClassCastException</code>ã€‚</li>
</ul>
<h3 id="æ¯”è¾ƒå™¨æ¥å£Comparator">æ¯”è¾ƒå™¨æ¥å£Comparator</h3><ul>
<li>æœ‰æ—¶æƒ³æŠŠä¸åŒç±»å‹çš„å…ƒç´ æ·»åŠ åˆ°åŒä¸€ä¸ªæ ‘å½¢é›†å†…ï¼Œå¯ä»¥å®šä¹‰ä¸€ä¸ªæ¯”è¾ƒå™¨æ¥æ¯”è¾ƒè¿™äº›å…ƒç´ ã€‚å¯ä»¥åˆ›å»ºä¸€ä¸ª<code>java.util.Comparator</code>æ¥å£çš„ç±»ã€‚å…¶æ–¹æ³•å¦‚ä¸‹ï¼š<ul>
<li>public int compare(Object element1,Object element2)  </li>
<li>public boolean equals(Object element)<br>**Objectç±»ä¹Ÿå®šä¹‰äº†equalsæ–¹æ³•ï¼Œå› æ­¤å®ç°æ¥å£æ—¶ä¸å®ç°equalsæ–¹æ³•ä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯å®ç°è¯¥æ–¹æ³•å¯ä»¥å¿«é€Ÿçš„åˆ¤æ–­ï¼Œæé«˜æ•ˆç‡ã€‚</li>
</ul>
</li>
<li>æ ‘å½¢é›†è¦æƒ³ä½¿ç”¨ä¸€ä¸ªæ¯”è¾ƒå™¨ï¼Œå¿…é¡»ä½¿ç”¨æ„é€ æ–¹æ³•TreeSetï¼ˆComparator comparatorï¼‰æ¥åˆ›å»ºä¸€ä¸ªæœ‰åºé›†ã€‚</li>
</ul>
<h3 id="çº¿æ€§è¡¨List">çº¿æ€§è¡¨List</h3><p>çº¿æ€§è¡¨å…è®¸åœ¨ä¸€ä¸ªé›†åˆä¸­å­˜å‚¨é‡å¤çš„å…ƒç´ ã€‚</p>
<ul>
<li>Listæ¥å£æ‰©å±•Collectionæ¥å£ï¼Œæ·»åŠ äº†<code>é¢å‘ä½ç½®ï¼ˆposition-orientedï¼‰</code>çš„æ“ä½œï¼Œå¹¶ä¸”æ·»åŠ äº†èƒ½å¤ŸåŒå‘éå†çº¿æ€§è¡¨çš„æ–°è¿­ä»£æ¢å­ã€‚ï¼ˆListIteratorï¼‰</li>
</ul>
<h4 id="æ•°ç»„çº¿æ€§è¡¨ArrayListå’Œé“¾è¡¨LinkedList">æ•°ç»„çº¿æ€§è¡¨ArrayListå’Œé“¾è¡¨LinkedList</h4><ul>
<li>å¦‚æœéœ€è¦ä½¿ç”¨ä¸‹æ ‡éšæœºè®¿é—®å…ƒç´ ï¼Œå¹¶ä¸”å¤„ç†åœ¨æœ«å°¾ä¹‹å¤–ï¼Œä¸åœ¨å…¶ä»–ä½ç½®æ’å…¥æˆ–åˆ é™¤å…ƒç´ ï¼Œä½¿ç”¨ArrayListã€‚</li>
<li>å¦‚æœéœ€è¦åœ¨çº¿æ€§è¡¨çš„ä»»æ„ä½ç½®ä¸Šæ’å…¥æˆ–åˆ é™¤å…ƒç´ ï¼Œåº”è¯¥é€‰æ‹©LinkedListã€‚</li>
<li>å¦‚ä¸è¦æ±‚åœ¨çº¿æ€§è¡¨ä¸­æ’å…¥æˆ–åˆ é™¤å…ƒç´ ï¼Œæ•°ç»„æ˜¯æ•ˆç‡æœ€é«˜çš„æ•°æ®ç»“æ„ã€‚</li>
</ul>
<h4 id="å‘é‡ç±»Vector">å‘é‡ç±»Vector</h4><ul>
<li>Vectorç±»é™¤äº†åŒ…å«ç”¨äºè®¿é—®å’Œä¿®æ”¹å‘é‡çš„åŒæ­¥æ–¹æ³•å¤–ï¼Œå®ƒä¸ArrayListæ˜¯ç›¸åŒçš„ã€‚åŒæ­¥æ–¹æ³•ç”¨äºé˜²æ­¢ä¸¤ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®å‘é‡æ—¶å¼•èµ·æ•°æ®å†²çªã€‚</li>
<li>å½“ä¸éœ€è¦åŒæ­¥æ—¶ï¼Œæœ€å¥½ä½¿ç”¨ArrayListï¼Œå®ƒæ¯”Vectorå¿«å¾—å¤šã€‚</li>
</ul>
<h4 id="æ ˆç±»stack">æ ˆç±»stack</h4><p>æ ˆç±»stackæ˜¯æœ€ä¸ºVectorç±»çš„æ‰©å±•å®ç°çš„ã€‚</p>
<h3 id="ä¸€èˆ¬ç±»å‹çš„ä½¿ç”¨">ä¸€èˆ¬ç±»å‹çš„ä½¿ç”¨</h3><ul>
<li>æ‰€æœ‰çš„é›†åˆéƒ½æ”¯æŒä¸€èˆ¬ç±»å‹ï¼Œå¯ä»¥ç”¨è®°å·<code>&lt;&gt;</code>ç»™ä»»ä¸€é›†åˆä¸­çš„å…ƒç´ æŒ‡å®šä¸€ä¸ªç‰¹å®šçš„ç±»å‹ã€‚</li>
<li>ä»ä¸€ä¸ªåªæœ‰ä¸€ç§æŒ‡å®šå…ƒç´ ç±»å‹çš„é›†åˆä¸­å–å€¼æ—¶ï¼Œä¸éœ€è¦è¿›è¡Œç±»å‹è½¬æ¢ã€‚</li>
</ul>
<h3 id="å›¾Map">å›¾Map</h3><ul>
<li>Mapæ¥å£å»ºç«‹å…ƒç´ å’Œé”®å€¼çš„ä¸€ä¸ªæ˜ å°„å…³ç³»ã€‚é”®å€¼å°±æ˜¯ä¸‹æ ‡ã€‚</li>
<li>ä¸€ä¸ªå›¾ä¸­ä¸èƒ½æœ‰é‡å¤çš„é”®å€¼ï¼Œæ¯ä¸ªé”®å€¼å¯¹åº”ä¸€ä¸ªå€¼ã€‚</li>
<li>AbstractMapç±»æ˜¯ä¸€ä¸ªå®ç°Mapæ¥å£çš„ä¾¿åˆ©ç±»ï¼Œé™¤äº†entrySet()æ–¹æ³•å¤–ï¼Œå®ƒå®ç°äº†Mapæ¥å£ä¸­çš„å…¶ä»–æ–¹æ³•ã€‚SortedMapæ¥å£æ‰©å±•Mapæ¥å£ï¼Œå…¶ä¸­çš„æ˜ åƒæ˜¯ä»¥é”®å€¼å‡åºçš„æ–¹å¼æ’åˆ—çš„ã€‚</li>
<li>æ•£åˆ—å›¾HashMapã€é“¾å¼æ•£åˆ—å›¾LinkedHashMapå’Œæ ‘å½¢å›¾TreeMapä¸‰ç§ç±»æ˜¯å®ç°Mapæ¥å£çš„å…·ä½“ç±»ã€‚</li>
</ul>
<h4 id="HashMap">HashMap</h4><p>å¯¹äºå®šä½æŸ¥æ‰¾ä¸€ä¸ªå€¼ã€æ’å…¥ä¸€ä¸ªæ˜ åƒæˆ–åˆ é™¤ä¸€ä¸ªæ˜ åƒï¼ŒHashMapçš„æ•ˆç‡æ˜¯å¾ˆé«˜çš„ã€‚</p>
<h4 id="LinkedHashMap">LinkedHashMap</h4><ul>
<li>å®ƒæ”¯æŒå›¾ä¸­å…ƒç´ æ’åºã€‚åœ¨LinkedHashMapä¸­ï¼Œå…ƒç´ æ—¢å¯ä»¥æŒ‰ç…§å®ƒä»¬æ’å…¥çš„é¡ºåºæ’åºï¼ˆç§°ä¸º<code>æ’å…¥æ’åºï¼ˆinsertion orderï¼‰</code>ï¼‰ï¼Œä¹Ÿå¯ä»¥æŒ‰å®ƒä»¬æœ€åä¸€æ¬¡è®¿é—®æ—¶é—´çš„é¡ºåºï¼Œä»æœ€æ—©åˆ°æœ€æ™šï¼ˆç§°ä¸º<code>è®¿é—®é¡ºåºï¼ˆaccess orderï¼‰</code>ï¼‰ã€‚<ul>
<li>æ— å‚æ„é€ æ–¹æ³•æ˜¯ä»¥æ’å…¥é¡ºåºåˆ›å»ºLinkedHashMapå¯¹è±¡çš„ã€‚</li>
<li>ä½¿ç”¨æ„é€ æ–¹æ³•LinkedHashMapï¼ˆinitialCapacityï¼ŒloadFactorï¼Œtrueï¼‰å¯ä»¥ä»¥è®¿é—®é¡ºåºåˆ›å»ºLinkedHashMapå¯¹è±¡ã€‚</li>
</ul>
</li>
</ul>
<h4 id="TreeMap">TreeMap</h4><ul>
<li>å®ƒå®ç°äº†SortedMapæ¥å£ï¼Œå®ƒå¯ä»¥æŒ‰ç…§é”®å€¼æ’å¥½çš„é¡ºåºéå†å›¾ã€‚é”®å€¼å¯ä»¥ä½¿ç”¨Comparableæ¥å£æˆ–Comparatoræ¥å£æ¥æ’åºã€‚</li>
<li>æ„é€ æ–¹æ³•ï¼š<ul>
<li>TreeMapï¼ˆï¼‰å¦‚æœå®ç°äº†Comparableæ¥å£ï¼Œå°±å¯ä»¥ä½¿ç”¨compareToæ–¹æ³•æ¥å¯¹é›†åˆå†…ä¸­çš„å…ƒç´ è¿›è¡Œæ’åºã€‚</li>
<li>TreeMapï¼ˆComparator comparatorï¼‰å¯ä»¥ä½¿ç”¨æŒ‡å®šæ¯”è¾ƒå™¨æ¥å¯¹å›¾ä¸­å…ƒç´ è¿›è¡Œæ’åºã€‚</li>
</ul>
</li>
</ul>
<p><strong>Mapæ¥å£ä¸å«æœ‰è¿­ä»£æ¢å­ï¼Œä¸ºéå†ä¸€ä¸ªå›¾ï¼Œå¯ä»¥ç”¨Mapæ¥å£çš„æ–¹æ³•<code>enrtySet()</code>æ¥åˆ›å»ºä¸€ä¸ªæ˜ åƒçš„è§„åˆ™é›†ã€‚è¯¥è§„åˆ™é›†å†…çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå®ƒæ˜¯ç”±ä»£è¡¨é”®å€¼å¯¹è±¡çš„å­—ç¬¦ä¸²ä¸å…¶å¯¹åº”çš„æ˜ åƒç”¨ç­‰å·è¿æ¥è€Œæˆçš„ã€‚</strong></p>
<h3 id="Collectionsç±»">Collectionsç±»</h3><p>Collectionsç±»åŒ…å«ç®¡ç†é›†åˆä¸å›¾ã€åˆ›å»ºåŒæ­¥é›†åˆç±»ã€åˆ›å»ºåªè¯»é›†åˆç±»ç­‰<code>é™æ€æ–¹æ³•</code>ã€‚</p>
<h3 id="Arraysç±»">Arraysç±»</h3><p>Arraysç±»ä¸­åŒ…å«å¯¹æ•°ç»„è¿›è¡Œæ’åºã€æŸ¥æ‰¾ã€æ¯”è¾ƒå’Œå¡«å……å…ƒç´ çš„å„ç§<code>é™æ€æ–¹æ³•</code>ã€‚å®ƒè¿˜åŒ…å«äº†å°†æ•°ç»„è½¬ä¸ºçº¿æ€§è¡¨çš„æ–¹æ³•ã€‚</p>
<hr>
<h2 id="å¤ä¹ å°ç»“">å¤ä¹ å°ç»“</h2><ul>
<li>Javaé›†åˆæ¶æ„ä¸­çš„æ‰€æœ‰å…·ä½“ç±»éƒ½å®ç°äº†Cloneableå’ŒSerializableæ¥å£ï¼Œæ‰€ä»¥å®ƒä»¬çš„å®ä¾‹éƒ½æ˜¯å¯å¤åˆ¶å’Œå¯å¤åˆ¶çš„ã€‚</li>
<li>Collectionsç±»å’ŒArraysç±»æä¾›çš„æ–¹æ³•éƒ½æ˜¯é™æ€æ–¹æ³•ã€‚</li>
</ul>
<hr>
<h2 id="ç¼–ç¨‹ç»ƒä¹ ">ç¼–ç¨‹ç»ƒä¹ </h2><ul>
<li>ä¹ é¢˜18.1 18.2 18.3 18.5 18.6 18.7 18.9æºä»£ç è§æˆ‘çš„Githubï¼š <a href="https://github.com/whtis/Java-Exercises/tree/master/chapter18/src" target="_blank" rel="external">chapter18</a></li>
<li><p>18.5æŒ‰å­—å…¸å‡åºæ˜¾ç¤ºå•è¯çš„å®ç°æ€è·¯ï¼šä½¿ç”¨çº¿æ€§è¡¨å­˜å‚¨æ¯ä¸ªå•è¯ï¼Œä½¿ç”¨æ„é€ æ–¹æ³•sortï¼ˆComparator comparatorï¼‰å¯¹è¡¨ä¸­çš„å¯¹è±¡æ’åºï¼Œæ¯”è¾ƒå™¨çš„å®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DicComparable</span> <span class="keyword">implements</span> <span class="title">Comparator</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Object o1, Object o2)</span> </span>&#123;</span><br><span class="line">        String s1 = ((String) (o1)).toLowerCase();</span><br><span class="line">        String s2 = ((String) (o2)).toLowerCase();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (s1.compareTo(s2) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s1.compareTo(s2) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>18.7å°†å•è¯æŒ‰å‡ºç°é¢‘ç‡å‡åºæ˜¾ç¤ºï¼Œå®ç°æ€è·¯ï¼šåˆ›å»ºä¸€ä¸ªå®ç°Comparableæ¥å£çš„ç±»Wordoccurrence,è¯¥ç±»åŒ…å«ä¸¤ä¸ªåŸŸwordå’Œcountï¼Œä½¿ç”¨compareToæ–¹æ³•æ¥æ¯”è¾ƒå•è¯çš„å‡ºç°æ¬¡æ•°ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WordOccurrence</span> <span class="keyword">implements</span> <span class="title">Comparable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    String word;</span><br><span class="line">    <span class="keyword">int</span> count;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">WordOccurrence</span><span class="params">(String word, <span class="keyword">int</span> count)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.word = word;</span><br><span class="line">        <span class="keyword">this</span>.count = count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (count &gt; ((WordOccurrence) o).count) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (count &lt; ((WordOccurrence) o).count) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<div align="center" style="color:red;width=80px;height:90px;" onmouseout="this.style.border='1px solid blue'" onmouseover="this.style.border='none'"><br><p style="font-weight:bold;font-style:italic;">æœ¬æ–‡ç« é¦–å‘<a href="http://www.whtis.com">www.whtis.com</a>ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„</p><br></div>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/03/22/Javaå­¦ä¹ æ€»ç»“-ç¬¬åä¸ƒç« -é¢å‘å¯¹è±¡æ•°æ®ç»“æ„/" itemprop="url">
                  Javaå­¦ä¹ æ€»ç»“-ç¬¬åä¸ƒç«  é¢å‘å¯¹è±¡æ•°æ®ç»“æ„
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">å‘è¡¨äº</span>
            <time itemprop="dateCreated" datetime="2016-03-22T23:44:38+08:00" content="2016-03-22">
              2016-03-22
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/03/22/Javaå­¦ä¹ æ€»ç»“-ç¬¬åä¸ƒç« -é¢å‘å¯¹è±¡æ•°æ®ç»“æ„/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/03/22/Javaå­¦ä¹ æ€»ç»“-ç¬¬åä¸ƒç« -é¢å‘å¯¹è±¡æ•°æ®ç»“æ„/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong> æœ¬æ–‡æ€»ç»“æºè‡ªã€ŠJavaè¯­è¨€ç¨‹åºè®¾è®¡ã€‹åŸä¹¦ç¬¬äº”ç‰ˆï¼Œä½œè€…ä¸ºY.daniel Liangï¼Œä¹ é¢˜åŠç¼–ç¨‹ç»ƒä¹ å‡å‚ç…§æ­¤ä¹¦ã€‚</strong></p>
<hr>
<h2 id="ä¸»è¦å†…å®¹">ä¸»è¦å†…å®¹</h2><p>æ•°æ®ç»“æ„æ˜¯æŒ‰æŸç§æ–¹å¼ç»„ç»‡çš„æ•°æ®é›†åˆã€‚ç”¨é¢å‘å¯¹è±¡çš„è§‚ç‚¹æ¥çœ‹ï¼Œä¸€ä¸ªæ•°æ®ç»“æ„å°±æ˜¯ä¸€ä¸ªå­˜å‚¨ç€å…¶ä»–å¯¹è±¡çš„å¯¹è±¡ï¼Œå­˜å‚¨åœ¨æ•°æ®ç»“æ„å†…çš„å¯¹è±¡ç§°ä¸ºæ•°æ®æˆ–å…ƒç´ ã€‚å› æ­¤æ•°æ®ç»“æ„åˆè¢«ç§°ä¸º<code>å®¹å™¨å¯¹è±¡ï¼ˆcontainer objectï¼‰</code>æˆ–<code>é›†åˆå¯¹è±¡ï¼ˆcollection objectï¼‰</code>ã€‚<br>æœ¬ç« ä»‹ç»çº¿æ€§è¡¨ã€å †æ ˆã€é˜Ÿåˆ—å’ŒäºŒå‰æ ‘ç­‰å››ç§åŠ¨æ€æ•°æ®ç»“æ„ã€‚</p>
<h3 id="çº¿æ€§è¡¨">çº¿æ€§è¡¨</h3><ul>
<li>çº¿æ€§è¡¨æ˜¯å­˜å‚¨é¡ºåºæ’åˆ—çš„æ•°æ®æ—¶æœ€å¸¸ç”¨çš„æ•°æ®ç»“æ„ã€‚</li>
<li>çº¿æ€§è¡¨å¯ä»¥ç”±æ•°ç»„æˆ–è€…é“¾è¡¨å®ç°ã€‚è¿™ä¸¤ç§ç±»å…·æœ‰ç›¸åŒçš„æ“ä½œï¼Œä½†æ˜¯å…·æœ‰ä¸åŒçš„æ•°æ®åŸŸï¼Œè¿™äº›ç›¸åŒçš„æ“ä½œå¯ä»¥ç”±æ¥å£æˆ–æŠ½è±¡ç±»ç”Ÿæˆã€‚åœ¨è®¾è®¡æ—¶åŒæ—¶æä¾›æ¥å£ä¸æŠ½è±¡ç±»æ˜¯æŠŠå®ƒä»¬çš„ä¼˜ç‚¹ç»“åˆåˆ°ä¸€èµ·çš„å¥½ç­–ç•¥ï¼Œè¿™æ ·çš„æŠ½è±¡ç±»ç§°ä¸º<code>ä¾¿åˆ©ç±»</code>ã€‚</li>
<li>æ•°ç»„çº¿æ€§è¡¨<ul>
<li>æ•°ç»„æ˜¯ä¸€ç§å›ºå®šå¤§å°çš„æ•°æ®ç»“æ„ã€‚ä½†ä»ç„¶å¯ä»¥é‡‡ç”¨å¦‚ä¸‹æ–¹æ³•å®ç°åŠ¨æ€æ”¹å˜ï¼šå½“æ•°ç»„ä¸èƒ½å†å­˜å‚¨çº¿æ€§è¡¨ä¸­çš„æ–°å…ƒç´ æ—¶ï¼Œåˆ›å»ºä¸€ä¸ªæ›´å¤§çš„æ•°ç»„æ¥ä»£æ›¿å½“å‰æ•°ç»„ã€‚è¿™æ ·çš„æ•°ç»„çº¿æ€§è¡¨æ˜¯ä¸€ä¸ªåŠ¨æ€çš„æ•°æ®ç»“æ„ã€‚</li>
</ul>
</li>
<li>é“¾è¡¨<ul>
<li>ç”±æ•°æ®åˆ›å»ºçš„çº¿æ€§è¡¨ï¼Œåœ¨ç‰¹å®šä½ç½®è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œæ•ˆç‡æ˜¯å¾ˆä½çš„ï¼Œå› æ­¤å¯ä»¥é‡‡ç”¨é“¾è¡¨ç»“æ„æ¥æé«˜æ•ˆç‡ã€‚</li>
<li>é“¾è¡¨çš„éå†ï¼š<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Node temp = first;</span><br><span class="line"> <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; size; i++) &#123;</span><br><span class="line">     temp = temp.next;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="æ ˆå’Œé˜Ÿåˆ—">æ ˆå’Œé˜Ÿåˆ—</h3><ul>
<li>æ ˆï¼ˆstackï¼‰å¯ä»¥çœ‹åšæ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¿æ€§è¡¨ï¼Œè®¿é—®ã€æ’å…¥å’Œåˆ é™¤å®ƒçš„å…ƒç´ åªèƒ½åœ¨æ ˆçš„ä¸€ç«¯ï¼ˆæ ˆé¡¶ï¼‰è¿›è¡Œã€‚é˜Ÿåˆ—å¯ä»¥è¡¨ç¤ºä¸€ä¸ªæ’é˜Ÿç­‰å¾…çš„é˜Ÿä¼ã€‚å®ƒå¯ä»¥çœ‹åšæ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¿æ€§è¡¨ï¼Œå®ƒçš„å…ƒç´ åªèƒ½ä»é˜Ÿåˆ—çš„æœ«ç«¯ï¼ˆé˜Ÿåˆ—å°¾ï¼‰æ’å…¥ï¼Œä»å¼€å§‹ç«¯ï¼ˆé˜Ÿåˆ—å¤´ï¼‰è®¿é—®å’Œåˆ é™¤ã€‚</li>
<li>æ ˆï¼šä½¿ç”¨æ•°ç»„çº¿æ€§è¡¨æ¥å®ç°æ ˆæ•ˆç‡è¾ƒé«˜ã€‚</li>
<li>é˜Ÿåˆ—ï¼šç”¨é“¾è¡¨å®ç°ã€‚</li>
</ul>
<h3 id="äºŒå‰æ ‘">äºŒå‰æ ‘</h3><ul>
<li>çº¿æ€§è¡¨ã€æ ˆå’Œé˜Ÿåˆ—éƒ½æ˜¯ç”±ä¸€åˆ—å…ƒç´ æ„æˆçš„çº¿å‹ç»“æ„ã€‚äºŒå‰æ ‘æ˜¯ä¸€ä¸ªå±‚æ¬¡ç»“æ„ï¼Œå®ƒè¦ä¹ˆæ˜¯ç©ºé›†ï¼Œè¦ä¹ˆç”±ä¸€ä¸ªè¢«ç§°ä¸º<code>æ ¹ï¼ˆrootï¼‰</code>çš„å…ƒç´ å’Œä¸¤æ£µä¸åŒçš„å­æ ‘ç»„æˆï¼Œè¿™ä¸¤ä¸ªå­æ ‘åˆ†åˆ«ç§°ä¸º<code>å·¦å­æ ‘ï¼ˆleft subtreeï¼‰</code>å’Œ<code>å³å­æ ‘ï¼ˆright subtreeï¼‰</code>ã€‚</li>
<li>ä¸€ä¸ªç»“ç‚¹çš„å·¦ï¼ˆå³ï¼‰å­æ ‘çš„æ ¹èŠ‚ç‚¹ç§°ä¸ºè¯¥ç»“ç‚¹çš„<code>å·¦ï¼ˆå³ï¼‰å­©å­ï¼ˆleftï¼ˆrightï¼‰childï¼‰</code>ã€‚æ²¡æœ‰å­©å­çš„ç»“ç‚¹ç§°ä¸º<code>å¶ç»“ç‚¹ï¼ˆleafï¼‰</code>ã€‚<code>äºŒå‰æœç´¢æ ‘ï¼ˆbinary search treeï¼‰</code>æ˜¯ä¸€ç§å¸¸ç”¨çš„ç‰¹æ®ŠäºŒå‰æ ‘ã€‚äºŒå‰æœç´¢æ ‘çš„ç‰¹å¾æ˜¯ï¼šå¯¹å®ƒçš„æ¯ä¸€ä¸ªç»“ç‚¹æ¥è¯´ï¼Œå·¦å­æ ‘ä¸­ç»“ç‚¹çš„å€¼éƒ½å°äºè¯¥ç»“ç‚¹çš„å€¼ï¼Œå³å­æ ‘ä¸­çš„ç»“ç‚¹çš„å€¼éƒ½å¤§äºè¯¥èŠ‚ç‚¹çš„å€¼ã€‚</li>
</ul>
<h4 id="äºŒå‰æ ‘çš„éå†">äºŒå‰æ ‘çš„éå†</h4><ul>
<li><p><code>ä¸­åºéå†ï¼ˆinorderï¼‰:</code>é¦–å…ˆè®¿é—®å½“å‰ç»“ç‚¹çš„å·¦å­æ ‘ï¼Œç„¶åè®¿é—®å½“å‰ç»“ç‚¹ï¼Œæœ€åè®¿é—®è¯¥ç»“ç‚¹çš„å³å­æ ‘ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">inorder</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">           <span class="keyword">return</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       inorder(root.left);</span><br><span class="line">       System.out.print(root.element + <span class="string">" "</span>);</span><br><span class="line">       inorder(root.right);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>ååºéå†ï¼ˆpostorderï¼‰ï¼š</code>é¦–å…ˆè®¿é—®å½“å‰ç»“ç‚¹çš„å·¦å­æ ‘ï¼Œç„¶åè®¿é—®è¯¥ç»“ç‚¹çš„å³å­æ ‘ï¼Œæœ€åè®¿é—®è¯¥ç»“ç‚¹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">postorder</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (root==<span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">       postorder(root.left);</span><br><span class="line">       postorder(root.right);</span><br><span class="line">       System.out.print(root.element + <span class="string">" "</span>);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>å‰åºéå†ï¼ˆpreorderï¼‰ï¼š</code>é¦–å…ˆè®¿é—®å½“å‰ç»“ç‚¹ï¼Œç„¶åè®¿é—®è¯¥ç»“ç‚¹çš„å·¦å­æ ‘ï¼Œæœ€åè®¿é—®è¯¥ç»“ç‚¹çš„å³å­æ ‘ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">preorder</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (root == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">       System.out.print(root.element + <span class="string">" "</span>);</span><br><span class="line">       preorder(root.left);</span><br><span class="line">       preorder(root.right);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>æ·±åº¦ä¼˜å…ˆéå†ï¼ˆdepth-firstï¼‰ï¼š</code>ä¸å‰åºéå†ç›¸åŒã€‚</p>
</li>
<li><code>å¹¿åº¦éå†æ³•ï¼ˆbreadth-firstï¼‰ï¼š</code>ä¸€å±‚ä¸€å±‚çš„è®¿é—®æ ‘çš„ç»“ç‚¹ã€‚<br><strong>å¦‚æœå…ƒç´ çš„æ’å…¥é¡ºåºä¸åŒï¼Œæ ‘çœ‹èµ·æ¥å¯èƒ½ä¸ä¸€æ ·ï¼Œä½†æ˜¯åªè¦å…ƒç´ çš„é›†åˆç›¸åŒï¼Œä¸­åºåºåˆ—æ˜¯ä¸€æ ·çš„ã€‚</strong></li>
</ul>
<hr>
<h2 id="å¤ä¹ å°ç»“">å¤ä¹ å°ç»“</h2><ul>
<li>åŸºæœ¬ç±»å‹çš„æ•°æ®ä¸èƒ½ä½œä¸ºå¯¹è±¡å­˜å‚¨ï¼Œä½†æ˜¯å¯ä»¥ç»™åŸºæœ¬æ•°æ®ç±»å‹å€¼åˆ›å»ºå¯¹åº”åŒ…è£…ç±»çš„å¯¹è±¡ã€‚</li>
</ul>
<hr>
<h2 id="ç¼–ç¨‹ç»ƒä¹ ">ç¼–ç¨‹ç»ƒä¹ </h2><ul>
<li>ä¹ é¢˜17.1ã€17.2ã€17.3ã€17.6æºä»£ç è§æˆ‘çš„Githubï¼š <a href="https://github.com/whtis/Java-Exercises/tree/master/chapter17/src" target="_blank" rel="external">chapter17</a></li>
<li>å†™åŒå‘é“¾è¡¨æ—¶ï¼Œåœ¨æ‰§è¡Œä¸‹åˆ—æ–¹æ³•ï¼š<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">remove</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    TreeNode current = first;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; index; i++) &#123;</span><br><span class="line">        current = current.next;</span><br><span class="line">    &#125;</span><br><span class="line">    TreeNode target = current.next;</span><br><span class="line">    target.pravious.next = target.next;</span><br><span class="line">    target.next.pravious = target.pravious;</span><br><span class="line">    size--;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>æ‰§è¡Œåˆ°ç¬¬7è¡Œè¯­å¥æ—¶ï¼šlistçš„çŠ¶æ€æ˜¯<code>Method threw &#39;java.lang.NullPointerException&#39; exception. Cannot evaluate _17_3.DoubleLinkedList.toString()</code>,ä½†æ˜¯æ•´ä¸ªæ–¹æ³•æ‰§è¡Œå®Œåï¼Œä¸ä¼šæŠ¥é”™ï¼ŒåŸå› æš‚æ—¶ä¸çŸ¥é“ã€‚</p>
<ul>
<li>ä¹ é¢˜17.6ä¸­éœ€è¦å†™ä¸€ä¸ªæ–¹æ³•ï¼Œè¿”å›äºŒå‰æ ‘çš„æ·±åº¦ï¼Œæ·±åº¦æ˜¯æŒ‡äºŒå‰æ ‘æœ€é•¿è·¯å¾„çš„ç»“ç‚¹ä¸ªæ•°ã€‚ä»£ç å¦‚ä¸‹ï¼š<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">treeDepth</span><span class="params">(TreeNode root)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> left = treeDepth(root.left);</span><br><span class="line">    <span class="keyword">int</span> right = treeDepth(root.right);</span><br><span class="line">    <span class="keyword">return</span> left &gt; right ? (left + <span class="number">1</span>) : (right + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<div align="center" style="color:red;width=80px;height:90px;" onmouseout="this.style.border='1px solid blue'" onmouseover="this.style.border='none'"><br><p style="font-weight:bold;font-style:italic;">æœ¬æ–‡ç« é¦–å‘<a href="http://www.whtis.com">www.whtis.com</a>ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„</p><br></div>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://7xnttb.com1.z0.glb.clouddn.com/author.png"
               alt="whtis" />
          <p class="site-author-name" itemprop="name">whtis</p>
          <p class="site-description motion-element" itemprop="description">ç‚¹æ»´çš„è®°å½•ï¼Œæ˜¯å˜å¼ºçš„å¿…ç»ä¹‹è·¯</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">34</span>
              <span class="site-state-item-name">æ—¥å¿—</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">7</span>
                <span class="site-state-item-name">åˆ†ç±»</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">16</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/whtis" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/1645197070/profile?topnav=1&wvr=6&is_all=1" target="_blank" title="Weibo">
                  
                    <i class="fa fa-fw fa-weibo"></i>
                  
                  Weibo
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      
      <br />

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">whtis</span>
</div>

<div class="powered-by">
  ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

<div class="busuanzi-count">

  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv"><i class="fa fa-user"></i><span class="busuanzi-value" id="busuanzi_value_site_uv"></span></span>
  

  
  
</div>



        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"whtis"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  

  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  </script>
  <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


  

  
<script type="text/javascript" async src="//push.zhanzhang.baidu.com/push.js">
</script>


<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</body>
</html>
